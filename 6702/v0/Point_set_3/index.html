<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://doc.cgal.org/latest/Point_set_3/index.html"/>

<link rel="icon" type="image/png" href="../Manual/g-196x196-doc.png" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<meta name="generator" content="Doxygen 1.8.13" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CGAL 5.6 - 3D Point Set: User Manual</title>
<!-- <link href="../Manual/tabs.css" rel="stylesheet" type="text/css"/> -->
<script type="text/javascript" src="../Manual/jquery.js"></script>
<script type="text/javascript" src="../Manual/dynsections.js"></script>
<!-- Manually include treeview and search to avoid bloat and to fix
     paths to the directory Manual . -->
<!-- $.treeview -->
<!-- $.search -->
<link href="navtree.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/searchdata.js"></script>
<script type="text/javascript" src="../Manual/search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/search.js"></script>
<!-- Manually done below. -->
<link href="../Manual/stylesheet.css" rel="stylesheet" type="text/css" />
<!-- This should probably be an extrastylesheet instead of hardcoded. -->
<link href="../Manual/cgal_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
//&amp;lt;![CDATA[
MathJax.Hub.Config(
{
  TeX: {
      Macros: {
          qprel: [ "{\\gtreqless}", 0],
          qpx: [ "{\\mathbf{x}}", 0],
          qpl: [ "{\\mathbf{l}}", 0],
          qpu: [ "{\\mathbf{u}}", 0],
          qpc: [ "{\\mathbf{c}}", 0],
          qpb: [ "{\\mathbf{b}}", 0],
          qpy: [ "{\\mathbf{y}}", 0],
          qpw: [ "{\\mathbf{w}}", 0],
          qplambda: [ "{\\mathbf{\\lambda}}", 0],
          ssWpoint: [ "{\\bf #1}", 1],
          ssWeight: [ "{w_{#1}}", 1],
          dabs: [ "{\\parallel\\! #1 \\!\\parallel}", 1],
          E: [ "{\\mathrm{E}}", 0],
          A: [ "{\\mathrm{A}}", 0],
          R: [ "{\\mathrm{R}}", 0],
          N: [ "{\\mathrm{N}}", 0],
          Q: [ "{\\mathrm{Q}}", 0],
          Z: [ "{\\mathrm{Z}}", 0],
          ccSum: [ "{\\sum_{#1}^{#2}{#3}}", 3],
          ccProd: [ "{\\prod_{#1}^{#2}{#3}}", 3],
          pyr: [ "{\\operatorname{Pyr}}", 0],
          aff: [ "{\\operatorname{aff}}", 0],
          Ac: [ "{\\cal A}", 0],
          Sc: [ "{\\cal S}", 0],
      }
  }
}
);
//]]&amp;gt;
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<script src="../Manual/hacks.js" type="text/javascript"></script>
<script src="modules.js" type="text/javascript"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="back-nav">
  <ul>
    <li><a href="https://www.cgal.org/">cgal.org</a></li>
    <li><a href="../Manual/index.html">Top</a></li>
    <li><a href="../Manual/general_intro.html">Getting Started</a></li>
    <li><a href="../Manual/tutorials.html">Tutorials</a></li>
    <li><a href="../Manual/packages.html">Package Overview</a></li>
    <li><a href="../Manual/how_to_cite_cgal.html">Acknowledging CGAL</a></li>
  </ul>
  <!-- In a package SEARCHENGINE = false, so we cannot use 
       insertion. That's why we have to do it manually here. Notice
       that we also take pngs from the Manual. -->
  <div id="MSearchBox" class="MSearchBoxInactive">
    <span class="left">
      <img id="MSearchSelect" src="../Manual/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="" />
      <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" />
    </span><span class="right">
      <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../Manual/search/close.png" alt="" /></a>
    </span>
  </div>
</div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CGAL 5.6 - 3D Point Set
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Code below is usually inserted by doxygen when SEARCHENGINE =
     true. Notice that the path to the search directory is adjusted to
     the top-level.-->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../Manual/search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync" style="display: none"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">User Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="Chapter_Point_Set_3"></a> </p><div id="autotoc" class="toc"></div>  <dl class="section author"><dt>Author</dt><dd>Simon Giraudot</dd></dl>
<p>CGAL provides several algorithms for processing point sets, ranging from <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/index.html#Chapter_Shape_Detection">Shape Detection</a> to <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Advancing_front_surface_reconstruction.tag:../Advancing_front_surface_reconstruction/" href="../Advancing_front_surface_reconstruction/index.html#Chapter_Advancing_Front_Surface_Reconstruction">Surface Reconstruction</a> through standard <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/index.html#Chapter_Point_Set_Processing">Point Set Processing</a> tools.</p>
<p>While these algorithms do not impose specific data structures to work on, this package provides a 3D point set structure to make it easier for the user to handle additional properties such as normal vectors, colors, labels, and to call CGAL algorithms on them.</p>
<h1><a class="anchor" id="Point_set_3_Principle"></a>
General Principle</h1>
<p><code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a>&lt;Point,Vector&gt;</code> is a vector based data structure that contains a default property (named <code>point</code>) for the coordinates of the points.</p>
<p>Any property the user needs can be easily added, modified, and removed at runtime. A property is identified by a unique name and a type. Convenience methods are provided to handle the normal vectors (property named <code>normal</code>) that is a very common property on point sets.</p>
<p>To optimize memory allocation and deallocation, each point is associated an index. The removal of a point simply marks the index as removed. Internally, this avoids the property vectors to be modified at each removal, and allow insertion of new points to reuse indices of points marked as removed. In particular this implies that a point inserted after some removal was done might has a non default initialized property. If the user needs memory to be effectively deallocated, the element marked as removed can be actually deleted from memory using <code>Point_set_3::garbage_collect()</code>.</p>
<h1><a class="anchor" id="Point_set_3_Usage"></a>
Simple Usage</h1>
<p>The data structure is designed to be easy to use despite its potential complexity when using properties. Several convenience methods are provided to handle points and normals without having to handle properties directly.</p>
<p>The following example shows how to fill a point set, add a normal property, set the normal values, add and remove a point.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_8cpp-example.html">Point_set_3/point_set.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print_point_set (<span class="keyword">const</span> Point_set&amp; point_set)</div><div class="line">{</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Content of point set:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (Point_set::const_iterator it = point_set.begin();</div><div class="line">       it != point_set.end(); ++ it)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"* Point "</span> &lt;&lt; *it</div><div class="line">              &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; point_set.point(*it) <span class="comment">// or point_set[it]</span></div><div class="line">              &lt;&lt; <span class="stringliteral">" with normal "</span> &lt;&lt; point_set.normal(*it)</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="comment">// Add points</span></div><div class="line">  point_set.insert (Point (0., 0., 0.));</div><div class="line">  point_set.insert (Point (0., 0., 1.));</div><div class="line">  point_set.insert (Point (0., 1., 0.));</div><div class="line"></div><div class="line">  point_set.add_normal_map();</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// Normals have default values</span></div><div class="line"></div><div class="line">  <span class="comment">// Change normal values</span></div><div class="line">  Point_set::iterator it = point_set.begin();</div><div class="line">  point_set.normal(*(it++)) = Vector (1., 0., 0.);</div><div class="line">  point_set.normal(*(it++)) = Vector (0., 1., 0.);</div><div class="line">  point_set.normal(*(it++)) = Vector (0., 0., 1.);</div><div class="line"></div><div class="line">  <span class="comment">// Add point + normal</span></div><div class="line">  point_set.insert (Point (1., 2., 3.), Vector (4., 5., 6.));</div><div class="line"></div><div class="line">  print_point_set(point_set);</div><div class="line"></div><div class="line">  <span class="comment">// Add new item</span></div><div class="line">  Point_set::iterator new_item = point_set.insert(Point (7., 8., 9.));</div><div class="line">  point_set.normal(*new_item) = Vector (10., 11., 12.);</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// New item has default values</span></div><div class="line"></div><div class="line">  point_set.remove (point_set.begin() + 2,</div><div class="line">                    point_set.begin() + 4);</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// New item has default values</span></div><div class="line"></div><div class="line">  <span class="comment">// Display information</span></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Number of removed points: "</span> &lt;&lt;point_set.number_of_removed_points() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  point_set.collect_garbage();</div><div class="line"></div><div class="line">  <span class="comment">// Display information (garbage should be gone)</span></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"After garbage collection: "</span> &lt;&lt;point_set.number_of_removed_points() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Point_set_3_Properties"></a>
Using Additional Properties</h1>
<p>Every information in the point set is a property. A raw point set comes only with a <code>point</code> property. As we saw in the previous example, the user can easily add a <em>normal</em> property. But this mechanism is generalized to any type of property.</p>
<p>The following example shows how to define a color property and an intensity property, and how to modify the point set according to this.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_property_8cpp-example.html">Point_set_3/point_set_property.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Random.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"><span class="keyword">typedef</span> std::array&lt;unsigned char, 3&gt; Color;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"><span class="keyword">typedef</span> Point_set::Property_map&lt;Color&gt; Color_map;</div><div class="line"><span class="keyword">typedef</span> Point_set::Property_map&lt;FT&gt; FT_map;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print_point_set (<span class="keyword">const</span> Point_set&amp; point_set)</div><div class="line">{</div><div class="line">  Color_map color;</div><div class="line">  boost::tie (color, boost::tuples::ignore) = point_set.property_map&lt;Color&gt;(<span class="stringliteral">"color"</span>);</div><div class="line">  FT_map intensity;</div><div class="line">  boost::tie (intensity, boost::tuples::ignore) =  point_set.property_map&lt;FT&gt;(<span class="stringliteral">"intensity"</span>);</div><div class="line"></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Content of point set:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (Point_set::const_iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"* Point "</span> &lt;&lt; point_set.point(*it) <span class="comment">// or point_set[it]</span></div><div class="line">              &lt;&lt; <span class="stringliteral">" with color ["</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(color[*it][0])</div><div class="line">              &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; static_cast&lt;int&gt;(color[*it][1])</div><div class="line">              &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(color[*it][2])</div><div class="line">              &lt;&lt; <span class="stringliteral">"] and intensity "</span> &lt;&lt; intensity[*it]</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  Color black = {{ 0, 0, 0 }};</div><div class="line">  <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div><div class="line">  Color_map color;</div><div class="line"></div><div class="line">  boost::tie (color, success) = point_set.add_property_map&lt;Color&gt; (<span class="stringliteral">"color"</span>, black);</div><div class="line">  assert (success);</div><div class="line"></div><div class="line">  FT_map intensity;</div><div class="line">  boost::tie (intensity, success) = point_set.add_property_map&lt;FT&gt; (<span class="stringliteral">"intensity"</span>, 0.);</div><div class="line">  assert (success);</div><div class="line"></div><div class="line">  point_set.reserve (10); <span class="comment">// For memory optimization</span></div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; 10; ++ i)</div><div class="line">  {</div><div class="line">    Point_set::iterator it = point_set.insert (Point (<span class="keywordtype">double</span>(i), <span class="keywordtype">double</span>(i), <span class="keywordtype">double</span>(i)));</div><div class="line">    Color c = {{ <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(CGAL::get_default_random().get_int(0, 255)),</div><div class="line">                 static_cast&lt;unsigned char&gt;(CGAL::get_default_random().get_int(0, 255)),</div><div class="line">                 static_cast&lt;unsigned char&gt;(CGAL::get_default_random().get_int(0, 255)) }};</div><div class="line">    color[*it] = c;</div><div class="line">    intensity[*it] = rand() / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(RAND_MAX);</div><div class="line">  }</div><div class="line"></div><div class="line">  print_point_set (point_set);</div><div class="line"></div><div class="line">  <span class="comment">// Remove points with intensity less than 0.5</span></div><div class="line">  Point_set::iterator it = point_set.begin();</div><div class="line">  <span class="keywordflow">while</span> (it != point_set.end())</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (intensity[*it] &lt; 0.5)</div><div class="line">      point_set.remove(it);</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">      ++ it;</div><div class="line">  }</div><div class="line"></div><div class="line">  print_point_set (point_set); <span class="comment">// point set is filtered</span></div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Point_set_3_Algorithms"></a>
Applying CGAL Algorithms</h1>
<p>Most CGAL algorithms let the user free to choose an input data structure: the points and attributes are then accessed through ranges and property maps. The <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> class is a range that provides property maps: applying CGAL algorithms is straightforward.</p>
<p>As the <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Ref.html">Point Set Processing</a> algorithms use <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/BGL.tag:../BGL/" href="../BGL/index.html#BGLNamedParameters">Named Parameters</a> to handle property maps, a method <code>CGAL::Point_set_3::parameters()</code> is provided: it returns a named parameter object with the right point and normal maps to read and write in the point set object.</p>
<p>In addition, all input/output functions of the package <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/index.html#Chapter_Point_Set_Processing">Point Set Processing</a> are overloaded so that the user only has to call them with a <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> object as a parameter (see <a class="el" href="index.html#Point_set_3_IO">Input/Output</a>).</p>
<h2><a class="anchor" id="Point_set_3_PSP"></a>
Point Set Processing</h2>
<p>The following example shows how to apply some algorithms from the CGAL library using a point set object:</p>
<ul>
<li>generating a point set around a sphere</li>
<li>estimating the normals with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga078e25209373cab0e1f3524202489771">CGAL::jet_estimate_normals()</a></code></li>
<li>simplifying the point set with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga7757ef9b3900e42fde26f5a0ac56e20f">CGAL::grid_simplify_point_set()</a></code></li>
<li>detecting the sphere shape with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Efficient__RANSAC.html">CGAL::Shape_detection::Efficient_RANSAC</a></code></li>
</ul>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_algo_8cpp-example.html">Point_set_3/point_set_algo.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/jet_estimate_normals.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/grid_simplify_point_set.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/point_generators_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/Efficient__RANSAC_8h.html">CGAL/Shape_detection/Efficient_RANSAC.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> CGAL::Random_points_on_sphere_3&lt;Point&gt; Point_generator;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/structCGAL_1_1Shape__detection_1_1Efficient__RANSAC__traits.html">CGAL::Shape_detection::Efficient_RANSAC_traits</a></div><div class="line">&lt;Kernel, Point_set, Point_set::Point_map, Point_set::Vector_map&gt; Traits;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Efficient__RANSAC.html">CGAL::Shape_detection::Efficient_RANSAC&lt;Traits&gt;</a>          Efficient_ransac;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Sphere.html">CGAL::Shape_detection::Sphere&lt;Traits&gt;</a>                    Sphere;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="comment">// Generate points on a unit sphere</span></div><div class="line">  Point_generator generator(1.);</div><div class="line">  std::size_t nb_pts = 10000;</div><div class="line">  point_set.reserve (nb_pts);</div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; nb_pts; ++ i)</div><div class="line">    point_set.insert (*(generator ++));</div><div class="line"></div><div class="line">  <span class="comment">// Add normal property and estimate normal values</span></div><div class="line">  point_set.add_normal_map();</div><div class="line">  CGAL::jet_estimate_normals&lt;CGAL::Sequential_tag&gt;</div><div class="line">    (point_set,</div><div class="line">     12, <span class="comment">// Number of neighbors</span></div><div class="line">     point_set.parameters(). <span class="comment">// Named parameters provided by Point_set_3</span></div><div class="line">     degree_fitting(2));     <span class="comment">// additional named parameter specific to jet_estimate_normals</span></div><div class="line"></div><div class="line">  <span class="comment">// Simplify point set</span></div><div class="line">  <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga7757ef9b3900e42fde26f5a0ac56e20f">CGAL::grid_simplify_point_set</a></div><div class="line">    (point_set,</div><div class="line">     0.1); <span class="comment">// Size of grid cell</span></div><div class="line">  <span class="comment">// point_set.parameters() can be omitted if no additional named parameter is needed</span></div><div class="line"></div><div class="line">  std::vector&lt;std::string&gt; properties = point_set.properties();</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Properties:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; properties.size(); ++ i)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; properties[i] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Detect sphere with RANSAC</span></div><div class="line">  Efficient_ransac ransac;</div><div class="line">  ransac.set_input(point_set,</div><div class="line">                   point_set.point_map(), <span class="comment">// Call built-in property map</span></div><div class="line">                   point_set.normal_map()); <span class="comment">// Call built-in property map</span></div><div class="line">  ransac.add_shape_factory&lt;Sphere&gt;();</div><div class="line">  Efficient_ransac::Parameters parameters;</div><div class="line">  parameters.probability = 0.05;</div><div class="line">  parameters.min_points = std::size_t(point_set.size() / 3);</div><div class="line">  parameters.epsilon = 0.01;</div><div class="line">  parameters.cluster_epsilon = 0.5;</div><div class="line">  parameters.normal_threshold = 0.9;</div><div class="line">  ransac.detect(parameters);</div><div class="line"></div><div class="line">  <span class="keywordflow">for</span>(boost::shared_ptr&lt;Efficient_ransac::Shape&gt; shape : ransac.shapes())</div><div class="line">    <span class="keywordflow">if</span> (Sphere* sphere = dynamic_cast&lt;Sphere*&gt;(shape.get()))</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">"Detected sphere of center "</span> &lt;&lt; sphere-&gt;center() <span class="comment">// Center should be approx 0, 0, 0</span></div><div class="line">                &lt;&lt; <span class="stringliteral">" and of radius "</span> &lt;&lt; sphere-&gt;radius() &lt;&lt; std::endl; <span class="comment">// Radius should be approx 1</span></div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_IO"></a>
Input/Output</h2>
<p>The following example shows how to read a point set in the XYZ format, normalize and invert the normal vectors, and write the result in the OFF format.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_read_xyz_8cpp-example.html">Point_set_3/point_set_read_xyz.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string fname = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/oni.pwn"</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Reading input</span></div><div class="line">  Point_set point_set;</div><div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="group__PkgPointSet3IOXYZ.html#gaa21dccecfcfb73b70fd47607dfe6cbc0">CGAL::IO::read_XYZ</a>(fname, point_set))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (point_set.has_normal_map())</div><div class="line">  {</div><div class="line">    <span class="comment">// Normalization + inversion of normal vectors</span></div><div class="line">    <span class="keywordflow">for</span> (Point_set::iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">    {</div><div class="line">      Vector n = point_set.normal(*it);</div><div class="line">      n = - n / <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Algebraic_foundations.tag:../Algebraic_foundations/" href="../Algebraic_foundations/group__PkgAlgebraicFoundationsRef.html#gab922269072ee9ee99ba8c541418b2e11">std::sqrt</a> (n * n);</div><div class="line">      point_set.normal(*it) = n;</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Writing result in OFF format</span></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOOff.html#gaf3b2a435f815f37f914fe9effbf6de73">CGAL::IO::write_OFF</a>(<span class="stringliteral">"normalized_normals.off"</span>, point_set, CGAL::parameters::stream_precision(17)))</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><p>The PLY format is the usual choice when storing an arbitrary number of additional properties of points is needed. CGAL provides a function <a class="el" href="group__PkgPointSet3IOPLY.html"><code>read_PLY()</code> </a> that allows the user to recover any PLY property wanted, provided the adapted PLY interpreter is implemented.</p>
<p>A <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> object can be filled with all readable properties of a PLY input. Each PLY property is read and stored into as a property with similar name and type.</p>
<p>For example, if the following line is found in the PLY header:</p>
<blockquote class="doxtable">
<p>property uchar red </p>
</blockquote>
<p>Then a property named <code>red</code> and with type <code>boost::uint8_t</code> (<code>boost</code> types are used because of their fixed memory size) will be instantiated in the point set and filled with the corresponding values.</p>
<p>Points and normals are recovered as properties with specific class types (namely the template types <code>Point</code> and <code>Vector</code>). Other non-1D properties are stored with simple number types. For example, if a color is given with integer red, green and blue values, 3 integer properties <code>red</code>, <code>green</code> and <code>blue</code> will be created. A user-defined interpreter must be implemented if such properties should be stored all together (a unique property <code>color</code> of type <code>std::array</code> for example).</p>
<p>The following example shows how to use this interpreter and how to access a specific property afterwards:</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_read_ply_8cpp-example.html">Point_set_3/point_set_read_ply.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  std::ifstream f(argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/example.ply"</span>),</div><div class="line">                  std::ios_base::binary); <span class="comment">// Mandatory on Windows if input is binary PLY</span></div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#gaf5c12b5bab6f88a9d22d425b1ab2586a">CGAL::IO::read_PLY</a>(f, point_set)) <span class="comment">// same as `f &gt;&gt; point_set`</span></div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Shows which properties are defined</span></div><div class="line">  std::vector&lt;std::string&gt; properties = point_set.properties();</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Properties:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span>(std::size_t i = 0; i &lt; properties.size(); ++ i)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; properties[i] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Recover "label" property of type int</span></div><div class="line">  Point_set::Property_map&lt;boost::int32_t&gt; label_prop;</div><div class="line">  <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div><div class="line">  boost::tie(label_prop, found)  = point_set.property_map&lt;boost::int32_t&gt; (<span class="stringliteral">"label"</span>);</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(found)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Point set has an integer \"label\" property with values:"</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (Point_set::iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; label_prop[*it] &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(argc &gt; 2 &amp;&amp; strcmp (argv[2], <span class="stringliteral">"-b"</span>) == 0) <span class="comment">// Optional binary output</span></div><div class="line">  {</div><div class="line">    <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#ga615f4420ce82b5ceb1b584b506d714ad">CGAL::IO::write_PLY</a>(<span class="stringliteral">"out.ply"</span>, point_set, CGAL::parameters::stream_precision(17));</div><div class="line">  }</div><div class="line">  <span class="keywordflow">else</span> <span class="comment">// ASCII output</span></div><div class="line">  {</div><div class="line">    <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#ga615f4420ce82b5ceb1b584b506d714ad">CGAL::IO::write_PLY</a>(<span class="stringliteral">"out.ply"</span>, point_set, CGAL::parameters::stream_precision(17)</div><div class="line">                                                           .use_binary_mode(<span class="keyword">false</span>));</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_Avdanced"></a>
Advanced Usage</h2>
<p>Using functions of CGAL to read files requires a slightly different behavior because internally the properties of a point are defined <em>before</em> this point is inserted into the point set (which is not possible with <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code>). Although using the provided overloads presented in the previous subsection should cover most usages, we document the specific back inserters and property maps that are used internally:</p>
<ul>
<li><code>CGAL::Point_set_3::index_back_inserter()</code> is used as an output iterator that creates new points.</li>
<li><code>CGAL::Point_set_3::point_push_map()</code> is a property map for setting the coordinates of a point. It will first insert the point create in the structure if it has not been created first (by <code>index_back_inserter()</code> for example).</li>
<li><code>CGAL::Point_set_3::normal_push_map()</code> works similarly but for normal vectors.</li>
</ul>
<p>Such <em>push property maps</em> are also available for other user-defined properties (see <code>CGAL::Point_set_3::push_property_map()</code>).</p>
<p>The following example shows how to read OFF point without using the overload provided for <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code>:</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_advanced_8cpp-example.html">Point_set_3/point_set_advanced.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/IO/read_points.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string filename = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"meshes/camel.off"</span>);</div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line">  point_set.add_normal_map();</div><div class="line"></div><div class="line">  <span class="comment">// Reading input in OFF format</span></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IO.html#ga8fac388459c5cf96bf11ce3b4e0459c1">CGAL::IO::read_points</a>(filename, point_set.index_back_inserter(),</div><div class="line">                        CGAL::parameters::point_map(point_set.point_push_map())</div><div class="line">                                         .normal_map(point_set.normal_push_map())))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_Draw"></a>
Draw a Point Set</h2>
<p>A 3D point set can be visualized by calling the <a class="el" href="group__PkgDrawPointSet3D.html">CGAL::draw&lt;PS&gt;() </a> function as shown in the following example. This function opens a new window showing the given point set. A call to this function is blocking, that is the program continues as soon as the user closes the window.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2draw_point_set_3_8cpp-example.html">Point_set_3/draw_point_set_3.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/draw_point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string filename = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/oni.pwn"</span>);</div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="group__PkgPointSet3IO.html#gade7dbb6c22e93441b0868c214e2858e6">CGAL::IO::read_point_set</a>(filename, point_set))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; filename &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <a class="code" href="group__PkgDrawPointSet3D.html#ga3c245d15e8f7a2db7252fa450299e1bb">CGAL::draw</a>(point_set);</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><p>This function requires <code>CGAL_Qt5</code>, and is only available if the macro <code>CGAL_USE_BASIC_VIEWER</code> is defined. Linking with the cmake target <code>CGAL::CGAL_Basic_viewer</code> will link with <code>CGAL_Qt5</code> and add the definition <code>CGAL_USE_BASIC_VIEWER</code>.</p>
<p><a class="anchor" id="fig__fig_draw_point_set"></a></p><div class="image">
<img src="draw_point_set.png" alt="draw_point_set.png" />
</div>
   <div class="cgal_figure_caption">  <a class="el" href="index.html#fig__fig_draw_point_set">Figure 78.1</a> Result of the run of the draw_point_set_3 program. A window shows the 3D points and allows to navigate through the 3D scene.  </div> <br /> 
<h1><a class="anchor" id="Point_set_3_History"></a>
History</h1>
<p>This package has been created to fill the need for a practical data structure that handles points with a user-defined set of properties. A property mechanism was already implemented in the <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/index.html#Chapter_3D_Surface_mesh">Surface Mesh</a> package: all the classes dedicated to the management of properties were extracted so that they can be used in this package. <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/classCGAL_1_1Surface__mesh.html">CGAL::Surface_mesh</a>&lt;Point&gt;</code> and <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a>&lt;Point,Vector&gt;</code> now follow a similar API for property management. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- The footer div is not part of the default but we require it to
move the footer to the bottom of the page. -->
<div id="footer">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 27 2022 08:18:44 for CGAL 5.6 - 3D Point Set by
    <a href="https://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen" /></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>
</html><html xmlns="http://www.w3.org/1999/xhtml"><body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="back-nav">
  <ul>
    <li><a href="https://www.cgal.org/">cgal.org</a></li>
    <li><a href="../Manual/index.html">Top</a></li>
    <li><a href="../Manual/general_intro.html">Getting Started</a></li>
    <li><a href="../Manual/tutorials.html">Tutorials</a></li>
    <li><a href="../Manual/packages.html">Package Overview</a></li>
    <li><a href="../Manual/how_to_cite_cgal.html">Acknowledging CGAL</a></li>
  </ul>
  <!-- In a package SEARCHENGINE = false, so we cannot use 
       insertion. That's why we have to do it manually here. Notice
       that we also take pngs from the Manual. -->
  <div id="MSearchBox" class="MSearchBoxInactive">
    <span class="left">
      <img id="MSearchSelect" src="../Manual/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="" />
      <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" />
    </span><span class="right">
      <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../Manual/search/close.png" alt="" /></a>
    </span>
  </div>
</div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CGAL 5.6 - 3D Point Set
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Code below is usually inserted by doxygen when SEARCHENGINE =
     true. Notice that the path to the search directory is adjusted to
     the top-level.-->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../Manual/search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">User Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="Chapter_Point_Set_3"></a> </p><div id="autotoc" class="toc"></div>  <dl class="section author"><dt>Author</dt><dd>Simon Giraudot</dd></dl>
<p>CGAL provides several algorithms for processing point sets, ranging from <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/index.html#Chapter_Shape_Detection">Shape Detection</a> to <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Advancing_front_surface_reconstruction.tag:../Advancing_front_surface_reconstruction/" href="../Advancing_front_surface_reconstruction/index.html#Chapter_Advancing_Front_Surface_Reconstruction">Surface Reconstruction</a> through standard <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/index.html#Chapter_Point_Set_Processing">Point Set Processing</a> tools.</p>
<p>While these algorithms do not impose specific data structures to work on, this package provides a 3D point set structure to make it easier for the user to handle additional properties such as normal vectors, colors, labels, and to call CGAL algorithms on them.</p>
<h1><a class="anchor" id="Point_set_3_Principle"></a>
General Principle</h1>
<p><code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a>&lt;Point,Vector&gt;</code> is a vector based data structure that contains a default property (named <code>point</code>) for the coordinates of the points.</p>
<p>Any property the user needs can be easily added, modified, and removed at runtime. A property is identified by a unique name and a type. Convenience methods are provided to handle the normal vectors (property named <code>normal</code>) that is a very common property on point sets.</p>
<p>To optimize memory allocation and deallocation, each point is associated an index. The removal of a point simply marks the index as removed. Internally, this avoids the property vectors to be modified at each removal, and allow insertion of new points to reuse indices of points marked as removed. In particular this implies that a point inserted after some removal was done might has a non default initialized property. If the user needs memory to be effectively deallocated, the element marked as removed can be actually deleted from memory using <code>Point_set_3::garbage_collect()</code>.</p>
<h1><a class="anchor" id="Point_set_3_Usage"></a>
Simple Usage</h1>
<p>The data structure is designed to be easy to use despite its potential complexity when using properties. Several convenience methods are provided to handle points and normals without having to handle properties directly.</p>
<p>The following example shows how to fill a point set, add a normal property, set the normal values, add and remove a point.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_8cpp-example.html">Point_set_3/point_set.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print_point_set (<span class="keyword">const</span> Point_set&amp; point_set)</div><div class="line">{</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Content of point set:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (Point_set::const_iterator it = point_set.begin();</div><div class="line">       it != point_set.end(); ++ it)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"* Point "</span> &lt;&lt; *it</div><div class="line">              &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; point_set.point(*it) <span class="comment">// or point_set[it]</span></div><div class="line">              &lt;&lt; <span class="stringliteral">" with normal "</span> &lt;&lt; point_set.normal(*it)</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="comment">// Add points</span></div><div class="line">  point_set.insert (Point (0., 0., 0.));</div><div class="line">  point_set.insert (Point (0., 0., 1.));</div><div class="line">  point_set.insert (Point (0., 1., 0.));</div><div class="line"></div><div class="line">  point_set.add_normal_map();</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// Normals have default values</span></div><div class="line"></div><div class="line">  <span class="comment">// Change normal values</span></div><div class="line">  Point_set::iterator it = point_set.begin();</div><div class="line">  point_set.normal(*(it++)) = Vector (1., 0., 0.);</div><div class="line">  point_set.normal(*(it++)) = Vector (0., 1., 0.);</div><div class="line">  point_set.normal(*(it++)) = Vector (0., 0., 1.);</div><div class="line"></div><div class="line">  <span class="comment">// Add point + normal</span></div><div class="line">  point_set.insert (Point (1., 2., 3.), Vector (4., 5., 6.));</div><div class="line"></div><div class="line">  print_point_set(point_set);</div><div class="line"></div><div class="line">  <span class="comment">// Add new item</span></div><div class="line">  Point_set::iterator new_item = point_set.insert(Point (7., 8., 9.));</div><div class="line">  point_set.normal(*new_item) = Vector (10., 11., 12.);</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// New item has default values</span></div><div class="line"></div><div class="line">  point_set.remove (point_set.begin() + 2,</div><div class="line">                    point_set.begin() + 4);</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// New item has default values</span></div><div class="line"></div><div class="line">  <span class="comment">// Display information</span></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Number of removed points: "</span> &lt;&lt;point_set.number_of_removed_points() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  point_set.collect_garbage();</div><div class="line"></div><div class="line">  <span class="comment">// Display information (garbage should be gone)</span></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"After garbage collection: "</span> &lt;&lt;point_set.number_of_removed_points() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Point_set_3_Properties"></a>
Using Additional Properties</h1>
<p>Every information in the point set is a property. A raw point set comes only with a <code>point</code> property. As we saw in the previous example, the user can easily add a <em>normal</em> property. But this mechanism is generalized to any type of property.</p>
<p>The following example shows how to define a color property and an intensity property, and how to modify the point set according to this.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_property_8cpp-example.html">Point_set_3/point_set_property.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Random.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"><span class="keyword">typedef</span> std::array&lt;unsigned char, 3&gt; Color;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"><span class="keyword">typedef</span> Point_set::Property_map&lt;Color&gt; Color_map;</div><div class="line"><span class="keyword">typedef</span> Point_set::Property_map&lt;FT&gt; FT_map;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print_point_set (<span class="keyword">const</span> Point_set&amp; point_set)</div><div class="line">{</div><div class="line">  Color_map color;</div><div class="line">  boost::tie (color, boost::tuples::ignore) = point_set.property_map&lt;Color&gt;(<span class="stringliteral">"color"</span>);</div><div class="line">  FT_map intensity;</div><div class="line">  boost::tie (intensity, boost::tuples::ignore) =  point_set.property_map&lt;FT&gt;(<span class="stringliteral">"intensity"</span>);</div><div class="line"></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Content of point set:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (Point_set::const_iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"* Point "</span> &lt;&lt; point_set.point(*it) <span class="comment">// or point_set[it]</span></div><div class="line">              &lt;&lt; <span class="stringliteral">" with color ["</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(color[*it][0])</div><div class="line">              &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; static_cast&lt;int&gt;(color[*it][1])</div><div class="line">              &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(color[*it][2])</div><div class="line">              &lt;&lt; <span class="stringliteral">"] and intensity "</span> &lt;&lt; intensity[*it]</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  Color black = {{ 0, 0, 0 }};</div><div class="line">  <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div><div class="line">  Color_map color;</div><div class="line"></div><div class="line">  boost::tie (color, success) = point_set.add_property_map&lt;Color&gt; (<span class="stringliteral">"color"</span>, black);</div><div class="line">  assert (success);</div><div class="line"></div><div class="line">  FT_map intensity;</div><div class="line">  boost::tie (intensity, success) = point_set.add_property_map&lt;FT&gt; (<span class="stringliteral">"intensity"</span>, 0.);</div><div class="line">  assert (success);</div><div class="line"></div><div class="line">  point_set.reserve (10); <span class="comment">// For memory optimization</span></div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; 10; ++ i)</div><div class="line">  {</div><div class="line">    Point_set::iterator it = point_set.insert (Point (<span class="keywordtype">double</span>(i), <span class="keywordtype">double</span>(i), <span class="keywordtype">double</span>(i)));</div><div class="line">    Color c = {{ <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(CGAL::get_default_random().get_int(0, 255)),</div><div class="line">                 static_cast&lt;unsigned char&gt;(CGAL::get_default_random().get_int(0, 255)),</div><div class="line">                 static_cast&lt;unsigned char&gt;(CGAL::get_default_random().get_int(0, 255)) }};</div><div class="line">    color[*it] = c;</div><div class="line">    intensity[*it] = rand() / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(RAND_MAX);</div><div class="line">  }</div><div class="line"></div><div class="line">  print_point_set (point_set);</div><div class="line"></div><div class="line">  <span class="comment">// Remove points with intensity less than 0.5</span></div><div class="line">  Point_set::iterator it = point_set.begin();</div><div class="line">  <span class="keywordflow">while</span> (it != point_set.end())</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (intensity[*it] &lt; 0.5)</div><div class="line">      point_set.remove(it);</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">      ++ it;</div><div class="line">  }</div><div class="line"></div><div class="line">  print_point_set (point_set); <span class="comment">// point set is filtered</span></div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Point_set_3_Algorithms"></a>
Applying CGAL Algorithms</h1>
<p>Most CGAL algorithms let the user free to choose an input data structure: the points and attributes are then accessed through ranges and property maps. The <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> class is a range that provides property maps: applying CGAL algorithms is straightforward.</p>
<p>As the <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Ref.html">Point Set Processing</a> algorithms use <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/BGL.tag:../BGL/" href="../BGL/index.html#BGLNamedParameters">Named Parameters</a> to handle property maps, a method <code>CGAL::Point_set_3::parameters()</code> is provided: it returns a named parameter object with the right point and normal maps to read and write in the point set object.</p>
<p>In addition, all input/output functions of the package <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/index.html#Chapter_Point_Set_Processing">Point Set Processing</a> are overloaded so that the user only has to call them with a <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> object as a parameter (see <a class="el" href="index.html#Point_set_3_IO">Input/Output</a>).</p>
<h2><a class="anchor" id="Point_set_3_PSP"></a>
Point Set Processing</h2>
<p>The following example shows how to apply some algorithms from the CGAL library using a point set object:</p>
<ul>
<li>generating a point set around a sphere</li>
<li>estimating the normals with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga078e25209373cab0e1f3524202489771">CGAL::jet_estimate_normals()</a></code></li>
<li>simplifying the point set with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga7757ef9b3900e42fde26f5a0ac56e20f">CGAL::grid_simplify_point_set()</a></code></li>
<li>detecting the sphere shape with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Efficient__RANSAC.html">CGAL::Shape_detection::Efficient_RANSAC</a></code></li>
</ul>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_algo_8cpp-example.html">Point_set_3/point_set_algo.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/jet_estimate_normals.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/grid_simplify_point_set.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/point_generators_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/Efficient__RANSAC_8h.html">CGAL/Shape_detection/Efficient_RANSAC.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> CGAL::Random_points_on_sphere_3&lt;Point&gt; Point_generator;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/structCGAL_1_1Shape__detection_1_1Efficient__RANSAC__traits.html">CGAL::Shape_detection::Efficient_RANSAC_traits</a></div><div class="line">&lt;Kernel, Point_set, Point_set::Point_map, Point_set::Vector_map&gt; Traits;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Efficient__RANSAC.html">CGAL::Shape_detection::Efficient_RANSAC&lt;Traits&gt;</a>          Efficient_ransac;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Sphere.html">CGAL::Shape_detection::Sphere&lt;Traits&gt;</a>                    Sphere;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="comment">// Generate points on a unit sphere</span></div><div class="line">  Point_generator generator(1.);</div><div class="line">  std::size_t nb_pts = 10000;</div><div class="line">  point_set.reserve (nb_pts);</div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; nb_pts; ++ i)</div><div class="line">    point_set.insert (*(generator ++));</div><div class="line"></div><div class="line">  <span class="comment">// Add normal property and estimate normal values</span></div><div class="line">  point_set.add_normal_map();</div><div class="line">  CGAL::jet_estimate_normals&lt;CGAL::Sequential_tag&gt;</div><div class="line">    (point_set,</div><div class="line">     12, <span class="comment">// Number of neighbors</span></div><div class="line">     point_set.parameters(). <span class="comment">// Named parameters provided by Point_set_3</span></div><div class="line">     degree_fitting(2));     <span class="comment">// additional named parameter specific to jet_estimate_normals</span></div><div class="line"></div><div class="line">  <span class="comment">// Simplify point set</span></div><div class="line">  <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga7757ef9b3900e42fde26f5a0ac56e20f">CGAL::grid_simplify_point_set</a></div><div class="line">    (point_set,</div><div class="line">     0.1); <span class="comment">// Size of grid cell</span></div><div class="line">  <span class="comment">// point_set.parameters() can be omitted if no additional named parameter is needed</span></div><div class="line"></div><div class="line">  std::vector&lt;std::string&gt; properties = point_set.properties();</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Properties:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; properties.size(); ++ i)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; properties[i] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Detect sphere with RANSAC</span></div><div class="line">  Efficient_ransac ransac;</div><div class="line">  ransac.set_input(point_set,</div><div class="line">                   point_set.point_map(), <span class="comment">// Call built-in property map</span></div><div class="line">                   point_set.normal_map()); <span class="comment">// Call built-in property map</span></div><div class="line">  ransac.add_shape_factory&lt;Sphere&gt;();</div><div class="line">  Efficient_ransac::Parameters parameters;</div><div class="line">  parameters.probability = 0.05;</div><div class="line">  parameters.min_points = std::size_t(point_set.size() / 3);</div><div class="line">  parameters.epsilon = 0.01;</div><div class="line">  parameters.cluster_epsilon = 0.5;</div><div class="line">  parameters.normal_threshold = 0.9;</div><div class="line">  ransac.detect(parameters);</div><div class="line"></div><div class="line">  <span class="keywordflow">for</span>(boost::shared_ptr&lt;Efficient_ransac::Shape&gt; shape : ransac.shapes())</div><div class="line">    <span class="keywordflow">if</span> (Sphere* sphere = dynamic_cast&lt;Sphere*&gt;(shape.get()))</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">"Detected sphere of center "</span> &lt;&lt; sphere-&gt;center() <span class="comment">// Center should be approx 0, 0, 0</span></div><div class="line">                &lt;&lt; <span class="stringliteral">" and of radius "</span> &lt;&lt; sphere-&gt;radius() &lt;&lt; std::endl; <span class="comment">// Radius should be approx 1</span></div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_IO"></a>
Input/Output</h2>
<p>The following example shows how to read a point set in the XYZ format, normalize and invert the normal vectors, and write the result in the OFF format.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_read_xyz_8cpp-example.html">Point_set_3/point_set_read_xyz.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string fname = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/oni.pwn"</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Reading input</span></div><div class="line">  Point_set point_set;</div><div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="group__PkgPointSet3IOXYZ.html#gaa21dccecfcfb73b70fd47607dfe6cbc0">CGAL::IO::read_XYZ</a>(fname, point_set))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (point_set.has_normal_map())</div><div class="line">  {</div><div class="line">    <span class="comment">// Normalization + inversion of normal vectors</span></div><div class="line">    <span class="keywordflow">for</span> (Point_set::iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">    {</div><div class="line">      Vector n = point_set.normal(*it);</div><div class="line">      n = - n / <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Algebraic_foundations.tag:../Algebraic_foundations/" href="../Algebraic_foundations/group__PkgAlgebraicFoundationsRef.html#gab922269072ee9ee99ba8c541418b2e11">std::sqrt</a> (n * n);</div><div class="line">      point_set.normal(*it) = n;</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Writing result in OFF format</span></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOOff.html#gaf3b2a435f815f37f914fe9effbf6de73">CGAL::IO::write_OFF</a>(<span class="stringliteral">"normalized_normals.off"</span>, point_set, CGAL::parameters::stream_precision(17)))</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><p>The PLY format is the usual choice when storing an arbitrary number of additional properties of points is needed. CGAL provides a function <a class="el" href="group__PkgPointSet3IOPLY.html"><code>read_PLY()</code> </a> that allows the user to recover any PLY property wanted, provided the adapted PLY interpreter is implemented.</p>
<p>A <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> object can be filled with all readable properties of a PLY input. Each PLY property is read and stored into as a property with similar name and type.</p>
<p>For example, if the following line is found in the PLY header:</p>
<blockquote class="doxtable">
<p>property uchar red </p>
</blockquote>
<p>Then a property named <code>red</code> and with type <code>boost::uint8_t</code> (<code>boost</code> types are used because of their fixed memory size) will be instantiated in the point set and filled with the corresponding values.</p>
<p>Points and normals are recovered as properties with specific class types (namely the template types <code>Point</code> and <code>Vector</code>). Other non-1D properties are stored with simple number types. For example, if a color is given with integer red, green and blue values, 3 integer properties <code>red</code>, <code>green</code> and <code>blue</code> will be created. A user-defined interpreter must be implemented if such properties should be stored all together (a unique property <code>color</code> of type <code>std::array</code> for example).</p>
<p>The following example shows how to use this interpreter and how to access a specific property afterwards:</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_read_ply_8cpp-example.html">Point_set_3/point_set_read_ply.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  std::ifstream f(argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/example.ply"</span>),</div><div class="line">                  std::ios_base::binary); <span class="comment">// Mandatory on Windows if input is binary PLY</span></div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#gaf5c12b5bab6f88a9d22d425b1ab2586a">CGAL::IO::read_PLY</a>(f, point_set)) <span class="comment">// same as `f &gt;&gt; point_set`</span></div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Shows which properties are defined</span></div><div class="line">  std::vector&lt;std::string&gt; properties = point_set.properties();</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Properties:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span>(std::size_t i = 0; i &lt; properties.size(); ++ i)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; properties[i] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Recover "label" property of type int</span></div><div class="line">  Point_set::Property_map&lt;boost::int32_t&gt; label_prop;</div><div class="line">  <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div><div class="line">  boost::tie(label_prop, found)  = point_set.property_map&lt;boost::int32_t&gt; (<span class="stringliteral">"label"</span>);</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(found)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Point set has an integer \"label\" property with values:"</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (Point_set::iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; label_prop[*it] &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(argc &gt; 2 &amp;&amp; strcmp (argv[2], <span class="stringliteral">"-b"</span>) == 0) <span class="comment">// Optional binary output</span></div><div class="line">  {</div><div class="line">    <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#ga615f4420ce82b5ceb1b584b506d714ad">CGAL::IO::write_PLY</a>(<span class="stringliteral">"out.ply"</span>, point_set, CGAL::parameters::stream_precision(17));</div><div class="line">  }</div><div class="line">  <span class="keywordflow">else</span> <span class="comment">// ASCII output</span></div><div class="line">  {</div><div class="line">    <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#ga615f4420ce82b5ceb1b584b506d714ad">CGAL::IO::write_PLY</a>(<span class="stringliteral">"out.ply"</span>, point_set, CGAL::parameters::stream_precision(17)</div><div class="line">                                                           .use_binary_mode(<span class="keyword">false</span>));</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_Avdanced"></a>
Advanced Usage</h2>
<p>Using functions of CGAL to read files requires a slightly different behavior because internally the properties of a point are defined <em>before</em> this point is inserted into the point set (which is not possible with <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code>). Although using the provided overloads presented in the previous subsection should cover most usages, we document the specific back inserters and property maps that are used internally:</p>
<ul>
<li><code>CGAL::Point_set_3::index_back_inserter()</code> is used as an output iterator that creates new points.</li>
<li><code>CGAL::Point_set_3::point_push_map()</code> is a property map for setting the coordinates of a point. It will first insert the point create in the structure if it has not been created first (by <code>index_back_inserter()</code> for example).</li>
<li><code>CGAL::Point_set_3::normal_push_map()</code> works similarly but for normal vectors.</li>
</ul>
<p>Such <em>push property maps</em> are also available for other user-defined properties (see <code>CGAL::Point_set_3::push_property_map()</code>).</p>
<p>The following example shows how to read OFF point without using the overload provided for <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code>:</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_advanced_8cpp-example.html">Point_set_3/point_set_advanced.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/IO/read_points.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string filename = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"meshes/camel.off"</span>);</div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line">  point_set.add_normal_map();</div><div class="line"></div><div class="line">  <span class="comment">// Reading input in OFF format</span></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IO.html#ga8fac388459c5cf96bf11ce3b4e0459c1">CGAL::IO::read_points</a>(filename, point_set.index_back_inserter(),</div><div class="line">                        CGAL::parameters::point_map(point_set.point_push_map())</div><div class="line">                                         .normal_map(point_set.normal_push_map())))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_Draw"></a>
Draw a Point Set</h2>
<p>A 3D point set can be visualized by calling the <a class="el" href="group__PkgDrawPointSet3D.html">CGAL::draw&lt;PS&gt;() </a> function as shown in the following example. This function opens a new window showing the given point set. A call to this function is blocking, that is the program continues as soon as the user closes the window.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2draw_point_set_3_8cpp-example.html">Point_set_3/draw_point_set_3.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/draw_point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string filename = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/oni.pwn"</span>);</div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="group__PkgPointSet3IO.html#gade7dbb6c22e93441b0868c214e2858e6">CGAL::IO::read_point_set</a>(filename, point_set))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; filename &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <a class="code" href="group__PkgDrawPointSet3D.html#ga3c245d15e8f7a2db7252fa450299e1bb">CGAL::draw</a>(point_set);</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><p>This function requires <code>CGAL_Qt5</code>, and is only available if the macro <code>CGAL_USE_BASIC_VIEWER</code> is defined. Linking with the cmake target <code>CGAL::CGAL_Basic_viewer</code> will link with <code>CGAL_Qt5</code> and add the definition <code>CGAL_USE_BASIC_VIEWER</code>.</p>
<p><a class="anchor" id="fig__fig_draw_point_set"></a></p><div class="image">
<img src="draw_point_set.png" alt="draw_point_set.png" />
</div>
   <div class="cgal_figure_caption">  <a class="el" href="index.html#fig__fig_draw_point_set">Figure 78.1</a> Result of the run of the draw_point_set_3 program. A window shows the 3D points and allows to navigate through the 3D scene.  </div> <br /> 
<h1><a class="anchor" id="Point_set_3_History"></a>
History</h1>
<p>This package has been created to fill the need for a practical data structure that handles points with a user-defined set of properties. A property mechanism was already implemented in the <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/index.html#Chapter_3D_Surface_mesh">Surface Mesh</a> package: all the classes dedicated to the management of properties were extracted so that they can be used in this package. <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/classCGAL_1_1Surface__mesh.html">CGAL::Surface_mesh</a>&lt;Point&gt;</code> and <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a>&lt;Point,Vector&gt;</code> now follow a similar API for property management. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- The footer div is not part of the default but we require it to
move the footer to the bottom of the page. -->
<div id="footer">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 27 2022 08:18:44 for CGAL 5.6 - 3D Point Set by
    <a href="https://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen" /></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>
</html>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="back-nav">
  <ul>
    <li><a href="https://www.cgal.org/">cgal.org</a></li>
    <li><a href="../Manual/index.html">Top</a></li>
    <li><a href="../Manual/general_intro.html">Getting Started</a></li>
    <li><a href="../Manual/tutorials.html">Tutorials</a></li>
    <li><a href="../Manual/packages.html">Package Overview</a></li>
    <li><a href="../Manual/how_to_cite_cgal.html">Acknowledging CGAL</a></li>
  </ul>
  <!-- In a package SEARCHENGINE = false, so we cannot use 
       insertion. That's why we have to do it manually here. Notice
       that we also take pngs from the Manual. -->
  <div id="MSearchBox" class="MSearchBoxInactive">
    <span class="left">
      <img id="MSearchSelect" src="../Manual/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="" />
      <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" />
    </span><span class="right">
      <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../Manual/search/close.png" alt="" /></a>
    </span>
  </div>
</div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CGAL 5.6 - 3D Point Set
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Code below is usually inserted by doxygen when SEARCHENGINE =
     true. Notice that the path to the search directory is adjusted to
     the top-level.-->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../Manual/search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync" style="display: none"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">User Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="Chapter_Point_Set_3"></a> </p><div id="autotoc" class="toc"></div>  <dl class="section author"><dt>Author</dt><dd>Simon Giraudot</dd></dl>
<p>CGAL provides several algorithms for processing point sets, ranging from <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/index.html#Chapter_Shape_Detection">Shape Detection</a> to <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Advancing_front_surface_reconstruction.tag:../Advancing_front_surface_reconstruction/" href="../Advancing_front_surface_reconstruction/index.html#Chapter_Advancing_Front_Surface_Reconstruction">Surface Reconstruction</a> through standard <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/index.html#Chapter_Point_Set_Processing">Point Set Processing</a> tools.</p>
<p>While these algorithms do not impose specific data structures to work on, this package provides a 3D point set structure to make it easier for the user to handle additional properties such as normal vectors, colors, labels, and to call CGAL algorithms on them.</p>
<h1><a class="anchor" id="Point_set_3_Principle"></a>
General Principle</h1>
<p><code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a>&lt;Point,Vector&gt;</code> is a vector based data structure that contains a default property (named <code>point</code>) for the coordinates of the points.</p>
<p>Any property the user needs can be easily added, modified, and removed at runtime. A property is identified by a unique name and a type. Convenience methods are provided to handle the normal vectors (property named <code>normal</code>) that is a very common property on point sets.</p>
<p>To optimize memory allocation and deallocation, each point is associated an index. The removal of a point simply marks the index as removed. Internally, this avoids the property vectors to be modified at each removal, and allow insertion of new points to reuse indices of points marked as removed. In particular this implies that a point inserted after some removal was done might has a non default initialized property. If the user needs memory to be effectively deallocated, the element marked as removed can be actually deleted from memory using <code>Point_set_3::garbage_collect()</code>.</p>
<h1><a class="anchor" id="Point_set_3_Usage"></a>
Simple Usage</h1>
<p>The data structure is designed to be easy to use despite its potential complexity when using properties. Several convenience methods are provided to handle points and normals without having to handle properties directly.</p>
<p>The following example shows how to fill a point set, add a normal property, set the normal values, add and remove a point.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_8cpp-example.html">Point_set_3/point_set.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print_point_set (<span class="keyword">const</span> Point_set&amp; point_set)</div><div class="line">{</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Content of point set:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (Point_set::const_iterator it = point_set.begin();</div><div class="line">       it != point_set.end(); ++ it)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"* Point "</span> &lt;&lt; *it</div><div class="line">              &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; point_set.point(*it) <span class="comment">// or point_set[it]</span></div><div class="line">              &lt;&lt; <span class="stringliteral">" with normal "</span> &lt;&lt; point_set.normal(*it)</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="comment">// Add points</span></div><div class="line">  point_set.insert (Point (0., 0., 0.));</div><div class="line">  point_set.insert (Point (0., 0., 1.));</div><div class="line">  point_set.insert (Point (0., 1., 0.));</div><div class="line"></div><div class="line">  point_set.add_normal_map();</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// Normals have default values</span></div><div class="line"></div><div class="line">  <span class="comment">// Change normal values</span></div><div class="line">  Point_set::iterator it = point_set.begin();</div><div class="line">  point_set.normal(*(it++)) = Vector (1., 0., 0.);</div><div class="line">  point_set.normal(*(it++)) = Vector (0., 1., 0.);</div><div class="line">  point_set.normal(*(it++)) = Vector (0., 0., 1.);</div><div class="line"></div><div class="line">  <span class="comment">// Add point + normal</span></div><div class="line">  point_set.insert (Point (1., 2., 3.), Vector (4., 5., 6.));</div><div class="line"></div><div class="line">  print_point_set(point_set);</div><div class="line"></div><div class="line">  <span class="comment">// Add new item</span></div><div class="line">  Point_set::iterator new_item = point_set.insert(Point (7., 8., 9.));</div><div class="line">  point_set.normal(*new_item) = Vector (10., 11., 12.);</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// New item has default values</span></div><div class="line"></div><div class="line">  point_set.remove (point_set.begin() + 2,</div><div class="line">                    point_set.begin() + 4);</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// New item has default values</span></div><div class="line"></div><div class="line">  <span class="comment">// Display information</span></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Number of removed points: "</span> &lt;&lt;point_set.number_of_removed_points() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  point_set.collect_garbage();</div><div class="line"></div><div class="line">  <span class="comment">// Display information (garbage should be gone)</span></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"After garbage collection: "</span> &lt;&lt;point_set.number_of_removed_points() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Point_set_3_Properties"></a>
Using Additional Properties</h1>
<p>Every information in the point set is a property. A raw point set comes only with a <code>point</code> property. As we saw in the previous example, the user can easily add a <em>normal</em> property. But this mechanism is generalized to any type of property.</p>
<p>The following example shows how to define a color property and an intensity property, and how to modify the point set according to this.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_property_8cpp-example.html">Point_set_3/point_set_property.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Random.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"><span class="keyword">typedef</span> std::array&lt;unsigned char, 3&gt; Color;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"><span class="keyword">typedef</span> Point_set::Property_map&lt;Color&gt; Color_map;</div><div class="line"><span class="keyword">typedef</span> Point_set::Property_map&lt;FT&gt; FT_map;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print_point_set (<span class="keyword">const</span> Point_set&amp; point_set)</div><div class="line">{</div><div class="line">  Color_map color;</div><div class="line">  boost::tie (color, boost::tuples::ignore) = point_set.property_map&lt;Color&gt;(<span class="stringliteral">"color"</span>);</div><div class="line">  FT_map intensity;</div><div class="line">  boost::tie (intensity, boost::tuples::ignore) =  point_set.property_map&lt;FT&gt;(<span class="stringliteral">"intensity"</span>);</div><div class="line"></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Content of point set:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (Point_set::const_iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"* Point "</span> &lt;&lt; point_set.point(*it) <span class="comment">// or point_set[it]</span></div><div class="line">              &lt;&lt; <span class="stringliteral">" with color ["</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(color[*it][0])</div><div class="line">              &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; static_cast&lt;int&gt;(color[*it][1])</div><div class="line">              &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(color[*it][2])</div><div class="line">              &lt;&lt; <span class="stringliteral">"] and intensity "</span> &lt;&lt; intensity[*it]</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  Color black = {{ 0, 0, 0 }};</div><div class="line">  <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div><div class="line">  Color_map color;</div><div class="line"></div><div class="line">  boost::tie (color, success) = point_set.add_property_map&lt;Color&gt; (<span class="stringliteral">"color"</span>, black);</div><div class="line">  assert (success);</div><div class="line"></div><div class="line">  FT_map intensity;</div><div class="line">  boost::tie (intensity, success) = point_set.add_property_map&lt;FT&gt; (<span class="stringliteral">"intensity"</span>, 0.);</div><div class="line">  assert (success);</div><div class="line"></div><div class="line">  point_set.reserve (10); <span class="comment">// For memory optimization</span></div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; 10; ++ i)</div><div class="line">  {</div><div class="line">    Point_set::iterator it = point_set.insert (Point (<span class="keywordtype">double</span>(i), <span class="keywordtype">double</span>(i), <span class="keywordtype">double</span>(i)));</div><div class="line">    Color c = {{ <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(CGAL::get_default_random().get_int(0, 255)),</div><div class="line">                 static_cast&lt;unsigned char&gt;(CGAL::get_default_random().get_int(0, 255)),</div><div class="line">                 static_cast&lt;unsigned char&gt;(CGAL::get_default_random().get_int(0, 255)) }};</div><div class="line">    color[*it] = c;</div><div class="line">    intensity[*it] = rand() / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(RAND_MAX);</div><div class="line">  }</div><div class="line"></div><div class="line">  print_point_set (point_set);</div><div class="line"></div><div class="line">  <span class="comment">// Remove points with intensity less than 0.5</span></div><div class="line">  Point_set::iterator it = point_set.begin();</div><div class="line">  <span class="keywordflow">while</span> (it != point_set.end())</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (intensity[*it] &lt; 0.5)</div><div class="line">      point_set.remove(it);</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">      ++ it;</div><div class="line">  }</div><div class="line"></div><div class="line">  print_point_set (point_set); <span class="comment">// point set is filtered</span></div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Point_set_3_Algorithms"></a>
Applying CGAL Algorithms</h1>
<p>Most CGAL algorithms let the user free to choose an input data structure: the points and attributes are then accessed through ranges and property maps. The <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> class is a range that provides property maps: applying CGAL algorithms is straightforward.</p>
<p>As the <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Ref.html">Point Set Processing</a> algorithms use <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/BGL.tag:../BGL/" href="../BGL/index.html#BGLNamedParameters">Named Parameters</a> to handle property maps, a method <code>CGAL::Point_set_3::parameters()</code> is provided: it returns a named parameter object with the right point and normal maps to read and write in the point set object.</p>
<p>In addition, all input/output functions of the package <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/index.html#Chapter_Point_Set_Processing">Point Set Processing</a> are overloaded so that the user only has to call them with a <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> object as a parameter (see <a class="el" href="index.html#Point_set_3_IO">Input/Output</a>).</p>
<h2><a class="anchor" id="Point_set_3_PSP"></a>
Point Set Processing</h2>
<p>The following example shows how to apply some algorithms from the CGAL library using a point set object:</p>
<ul>
<li>generating a point set around a sphere</li>
<li>estimating the normals with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga078e25209373cab0e1f3524202489771">CGAL::jet_estimate_normals()</a></code></li>
<li>simplifying the point set with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga7757ef9b3900e42fde26f5a0ac56e20f">CGAL::grid_simplify_point_set()</a></code></li>
<li>detecting the sphere shape with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Efficient__RANSAC.html">CGAL::Shape_detection::Efficient_RANSAC</a></code></li>
</ul>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_algo_8cpp-example.html">Point_set_3/point_set_algo.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/jet_estimate_normals.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/grid_simplify_point_set.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/point_generators_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/Efficient__RANSAC_8h.html">CGAL/Shape_detection/Efficient_RANSAC.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> CGAL::Random_points_on_sphere_3&lt;Point&gt; Point_generator;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/structCGAL_1_1Shape__detection_1_1Efficient__RANSAC__traits.html">CGAL::Shape_detection::Efficient_RANSAC_traits</a></div><div class="line">&lt;Kernel, Point_set, Point_set::Point_map, Point_set::Vector_map&gt; Traits;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Efficient__RANSAC.html">CGAL::Shape_detection::Efficient_RANSAC&lt;Traits&gt;</a>          Efficient_ransac;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Sphere.html">CGAL::Shape_detection::Sphere&lt;Traits&gt;</a>                    Sphere;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="comment">// Generate points on a unit sphere</span></div><div class="line">  Point_generator generator(1.);</div><div class="line">  std::size_t nb_pts = 10000;</div><div class="line">  point_set.reserve (nb_pts);</div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; nb_pts; ++ i)</div><div class="line">    point_set.insert (*(generator ++));</div><div class="line"></div><div class="line">  <span class="comment">// Add normal property and estimate normal values</span></div><div class="line">  point_set.add_normal_map();</div><div class="line">  CGAL::jet_estimate_normals&lt;CGAL::Sequential_tag&gt;</div><div class="line">    (point_set,</div><div class="line">     12, <span class="comment">// Number of neighbors</span></div><div class="line">     point_set.parameters(). <span class="comment">// Named parameters provided by Point_set_3</span></div><div class="line">     degree_fitting(2));     <span class="comment">// additional named parameter specific to jet_estimate_normals</span></div><div class="line"></div><div class="line">  <span class="comment">// Simplify point set</span></div><div class="line">  <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga7757ef9b3900e42fde26f5a0ac56e20f">CGAL::grid_simplify_point_set</a></div><div class="line">    (point_set,</div><div class="line">     0.1); <span class="comment">// Size of grid cell</span></div><div class="line">  <span class="comment">// point_set.parameters() can be omitted if no additional named parameter is needed</span></div><div class="line"></div><div class="line">  std::vector&lt;std::string&gt; properties = point_set.properties();</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Properties:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; properties.size(); ++ i)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; properties[i] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Detect sphere with RANSAC</span></div><div class="line">  Efficient_ransac ransac;</div><div class="line">  ransac.set_input(point_set,</div><div class="line">                   point_set.point_map(), <span class="comment">// Call built-in property map</span></div><div class="line">                   point_set.normal_map()); <span class="comment">// Call built-in property map</span></div><div class="line">  ransac.add_shape_factory&lt;Sphere&gt;();</div><div class="line">  Efficient_ransac::Parameters parameters;</div><div class="line">  parameters.probability = 0.05;</div><div class="line">  parameters.min_points = std::size_t(point_set.size() / 3);</div><div class="line">  parameters.epsilon = 0.01;</div><div class="line">  parameters.cluster_epsilon = 0.5;</div><div class="line">  parameters.normal_threshold = 0.9;</div><div class="line">  ransac.detect(parameters);</div><div class="line"></div><div class="line">  <span class="keywordflow">for</span>(boost::shared_ptr&lt;Efficient_ransac::Shape&gt; shape : ransac.shapes())</div><div class="line">    <span class="keywordflow">if</span> (Sphere* sphere = dynamic_cast&lt;Sphere*&gt;(shape.get()))</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">"Detected sphere of center "</span> &lt;&lt; sphere-&gt;center() <span class="comment">// Center should be approx 0, 0, 0</span></div><div class="line">                &lt;&lt; <span class="stringliteral">" and of radius "</span> &lt;&lt; sphere-&gt;radius() &lt;&lt; std::endl; <span class="comment">// Radius should be approx 1</span></div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_IO"></a>
Input/Output</h2>
<p>The following example shows how to read a point set in the XYZ format, normalize and invert the normal vectors, and write the result in the OFF format.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_read_xyz_8cpp-example.html">Point_set_3/point_set_read_xyz.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string fname = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/oni.pwn"</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Reading input</span></div><div class="line">  Point_set point_set;</div><div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="group__PkgPointSet3IOXYZ.html#gaa21dccecfcfb73b70fd47607dfe6cbc0">CGAL::IO::read_XYZ</a>(fname, point_set))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (point_set.has_normal_map())</div><div class="line">  {</div><div class="line">    <span class="comment">// Normalization + inversion of normal vectors</span></div><div class="line">    <span class="keywordflow">for</span> (Point_set::iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">    {</div><div class="line">      Vector n = point_set.normal(*it);</div><div class="line">      n = - n / <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Algebraic_foundations.tag:../Algebraic_foundations/" href="../Algebraic_foundations/group__PkgAlgebraicFoundationsRef.html#gab922269072ee9ee99ba8c541418b2e11">std::sqrt</a> (n * n);</div><div class="line">      point_set.normal(*it) = n;</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Writing result in OFF format</span></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOOff.html#gaf3b2a435f815f37f914fe9effbf6de73">CGAL::IO::write_OFF</a>(<span class="stringliteral">"normalized_normals.off"</span>, point_set, CGAL::parameters::stream_precision(17)))</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><p>The PLY format is the usual choice when storing an arbitrary number of additional properties of points is needed. CGAL provides a function <a class="el" href="group__PkgPointSet3IOPLY.html"><code>read_PLY()</code> </a> that allows the user to recover any PLY property wanted, provided the adapted PLY interpreter is implemented.</p>
<p>A <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> object can be filled with all readable properties of a PLY input. Each PLY property is read and stored into as a property with similar name and type.</p>
<p>For example, if the following line is found in the PLY header:</p>
<blockquote class="doxtable">
<p>property uchar red </p>
</blockquote>
<p>Then a property named <code>red</code> and with type <code>boost::uint8_t</code> (<code>boost</code> types are used because of their fixed memory size) will be instantiated in the point set and filled with the corresponding values.</p>
<p>Points and normals are recovered as properties with specific class types (namely the template types <code>Point</code> and <code>Vector</code>). Other non-1D properties are stored with simple number types. For example, if a color is given with integer red, green and blue values, 3 integer properties <code>red</code>, <code>green</code> and <code>blue</code> will be created. A user-defined interpreter must be implemented if such properties should be stored all together (a unique property <code>color</code> of type <code>std::array</code> for example).</p>
<p>The following example shows how to use this interpreter and how to access a specific property afterwards:</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_read_ply_8cpp-example.html">Point_set_3/point_set_read_ply.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  std::ifstream f(argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/example.ply"</span>),</div><div class="line">                  std::ios_base::binary); <span class="comment">// Mandatory on Windows if input is binary PLY</span></div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#gaf5c12b5bab6f88a9d22d425b1ab2586a">CGAL::IO::read_PLY</a>(f, point_set)) <span class="comment">// same as `f &gt;&gt; point_set`</span></div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Shows which properties are defined</span></div><div class="line">  std::vector&lt;std::string&gt; properties = point_set.properties();</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Properties:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span>(std::size_t i = 0; i &lt; properties.size(); ++ i)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; properties[i] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Recover "label" property of type int</span></div><div class="line">  Point_set::Property_map&lt;boost::int32_t&gt; label_prop;</div><div class="line">  <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div><div class="line">  boost::tie(label_prop, found)  = point_set.property_map&lt;boost::int32_t&gt; (<span class="stringliteral">"label"</span>);</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(found)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Point set has an integer \"label\" property with values:"</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (Point_set::iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; label_prop[*it] &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(argc &gt; 2 &amp;&amp; strcmp (argv[2], <span class="stringliteral">"-b"</span>) == 0) <span class="comment">// Optional binary output</span></div><div class="line">  {</div><div class="line">    <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#ga615f4420ce82b5ceb1b584b506d714ad">CGAL::IO::write_PLY</a>(<span class="stringliteral">"out.ply"</span>, point_set, CGAL::parameters::stream_precision(17));</div><div class="line">  }</div><div class="line">  <span class="keywordflow">else</span> <span class="comment">// ASCII output</span></div><div class="line">  {</div><div class="line">    <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#ga615f4420ce82b5ceb1b584b506d714ad">CGAL::IO::write_PLY</a>(<span class="stringliteral">"out.ply"</span>, point_set, CGAL::parameters::stream_precision(17)</div><div class="line">                                                           .use_binary_mode(<span class="keyword">false</span>));</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_Avdanced"></a>
Advanced Usage</h2>
<p>Using functions of CGAL to read files requires a slightly different behavior because internally the properties of a point are defined <em>before</em> this point is inserted into the point set (which is not possible with <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code>). Although using the provided overloads presented in the previous subsection should cover most usages, we document the specific back inserters and property maps that are used internally:</p>
<ul>
<li><code>CGAL::Point_set_3::index_back_inserter()</code> is used as an output iterator that creates new points.</li>
<li><code>CGAL::Point_set_3::point_push_map()</code> is a property map for setting the coordinates of a point. It will first insert the point create in the structure if it has not been created first (by <code>index_back_inserter()</code> for example).</li>
<li><code>CGAL::Point_set_3::normal_push_map()</code> works similarly but for normal vectors.</li>
</ul>
<p>Such <em>push property maps</em> are also available for other user-defined properties (see <code>CGAL::Point_set_3::push_property_map()</code>).</p>
<p>The following example shows how to read OFF point without using the overload provided for <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code>:</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_advanced_8cpp-example.html">Point_set_3/point_set_advanced.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/IO/read_points.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string filename = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"meshes/camel.off"</span>);</div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line">  point_set.add_normal_map();</div><div class="line"></div><div class="line">  <span class="comment">// Reading input in OFF format</span></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IO.html#ga8fac388459c5cf96bf11ce3b4e0459c1">CGAL::IO::read_points</a>(filename, point_set.index_back_inserter(),</div><div class="line">                        CGAL::parameters::point_map(point_set.point_push_map())</div><div class="line">                                         .normal_map(point_set.normal_push_map())))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_Draw"></a>
Draw a Point Set</h2>
<p>A 3D point set can be visualized by calling the <a class="el" href="group__PkgDrawPointSet3D.html">CGAL::draw&lt;PS&gt;() </a> function as shown in the following example. This function opens a new window showing the given point set. A call to this function is blocking, that is the program continues as soon as the user closes the window.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2draw_point_set_3_8cpp-example.html">Point_set_3/draw_point_set_3.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/draw_point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string filename = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/oni.pwn"</span>);</div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="group__PkgPointSet3IO.html#gade7dbb6c22e93441b0868c214e2858e6">CGAL::IO::read_point_set</a>(filename, point_set))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; filename &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <a class="code" href="group__PkgDrawPointSet3D.html#ga3c245d15e8f7a2db7252fa450299e1bb">CGAL::draw</a>(point_set);</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><p>This function requires <code>CGAL_Qt5</code>, and is only available if the macro <code>CGAL_USE_BASIC_VIEWER</code> is defined. Linking with the cmake target <code>CGAL::CGAL_Basic_viewer</code> will link with <code>CGAL_Qt5</code> and add the definition <code>CGAL_USE_BASIC_VIEWER</code>.</p>
<p><a class="anchor" id="fig__fig_draw_point_set"></a></p><div class="image">
<img src="draw_point_set.png" alt="draw_point_set.png" />
</div>
   <div class="cgal_figure_caption">  <a class="el" href="index.html#fig__fig_draw_point_set">Figure 78.1</a> Result of the run of the draw_point_set_3 program. A window shows the 3D points and allows to navigate through the 3D scene.  </div> <br /> 
<h1><a class="anchor" id="Point_set_3_History"></a>
History</h1>
<p>This package has been created to fill the need for a practical data structure that handles points with a user-defined set of properties. A property mechanism was already implemented in the <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/index.html#Chapter_3D_Surface_mesh">Surface Mesh</a> package: all the classes dedicated to the management of properties were extracted so that they can be used in this package. <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/classCGAL_1_1Surface__mesh.html">CGAL::Surface_mesh</a>&lt;Point&gt;</code> and <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a>&lt;Point,Vector&gt;</code> now follow a similar API for property management. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- The footer div is not part of the default but we require it to
move the footer to the bottom of the page. -->
<div id="footer">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 27 2022 08:18:44 for CGAL 5.6 - 3D Point Set by
    <a href="https://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen" /></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>
</html><html xmlns="http://www.w3.org/1999/xhtml"><body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="back-nav">
  <ul>
    <li><a href="https://www.cgal.org/">cgal.org</a></li>
    <li><a href="../Manual/index.html">Top</a></li>
    <li><a href="../Manual/general_intro.html">Getting Started</a></li>
    <li><a href="../Manual/tutorials.html">Tutorials</a></li>
    <li><a href="../Manual/packages.html">Package Overview</a></li>
    <li><a href="../Manual/how_to_cite_cgal.html">Acknowledging CGAL</a></li>
  </ul>
  <!-- In a package SEARCHENGINE = false, so we cannot use 
       insertion. That's why we have to do it manually here. Notice
       that we also take pngs from the Manual. -->
  <div id="MSearchBox" class="MSearchBoxInactive">
    <span class="left">
      <img id="MSearchSelect" src="../Manual/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="" />
      <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" />
    </span><span class="right">
      <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../Manual/search/close.png" alt="" /></a>
    </span>
  </div>
</div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CGAL 5.6 - 3D Point Set
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Code below is usually inserted by doxygen when SEARCHENGINE =
     true. Notice that the path to the search directory is adjusted to
     the top-level.-->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../Manual/search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">User Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="Chapter_Point_Set_3"></a> </p><div id="autotoc" class="toc"></div>  <dl class="section author"><dt>Author</dt><dd>Simon Giraudot</dd></dl>
<p>CGAL provides several algorithms for processing point sets, ranging from <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/index.html#Chapter_Shape_Detection">Shape Detection</a> to <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Advancing_front_surface_reconstruction.tag:../Advancing_front_surface_reconstruction/" href="../Advancing_front_surface_reconstruction/index.html#Chapter_Advancing_Front_Surface_Reconstruction">Surface Reconstruction</a> through standard <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/index.html#Chapter_Point_Set_Processing">Point Set Processing</a> tools.</p>
<p>While these algorithms do not impose specific data structures to work on, this package provides a 3D point set structure to make it easier for the user to handle additional properties such as normal vectors, colors, labels, and to call CGAL algorithms on them.</p>
<h1><a class="anchor" id="Point_set_3_Principle"></a>
General Principle</h1>
<p><code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a>&lt;Point,Vector&gt;</code> is a vector based data structure that contains a default property (named <code>point</code>) for the coordinates of the points.</p>
<p>Any property the user needs can be easily added, modified, and removed at runtime. A property is identified by a unique name and a type. Convenience methods are provided to handle the normal vectors (property named <code>normal</code>) that is a very common property on point sets.</p>
<p>To optimize memory allocation and deallocation, each point is associated an index. The removal of a point simply marks the index as removed. Internally, this avoids the property vectors to be modified at each removal, and allow insertion of new points to reuse indices of points marked as removed. In particular this implies that a point inserted after some removal was done might has a non default initialized property. If the user needs memory to be effectively deallocated, the element marked as removed can be actually deleted from memory using <code>Point_set_3::garbage_collect()</code>.</p>
<h1><a class="anchor" id="Point_set_3_Usage"></a>
Simple Usage</h1>
<p>The data structure is designed to be easy to use despite its potential complexity when using properties. Several convenience methods are provided to handle points and normals without having to handle properties directly.</p>
<p>The following example shows how to fill a point set, add a normal property, set the normal values, add and remove a point.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_8cpp-example.html">Point_set_3/point_set.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print_point_set (<span class="keyword">const</span> Point_set&amp; point_set)</div><div class="line">{</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Content of point set:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (Point_set::const_iterator it = point_set.begin();</div><div class="line">       it != point_set.end(); ++ it)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"* Point "</span> &lt;&lt; *it</div><div class="line">              &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; point_set.point(*it) <span class="comment">// or point_set[it]</span></div><div class="line">              &lt;&lt; <span class="stringliteral">" with normal "</span> &lt;&lt; point_set.normal(*it)</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="comment">// Add points</span></div><div class="line">  point_set.insert (Point (0., 0., 0.));</div><div class="line">  point_set.insert (Point (0., 0., 1.));</div><div class="line">  point_set.insert (Point (0., 1., 0.));</div><div class="line"></div><div class="line">  point_set.add_normal_map();</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// Normals have default values</span></div><div class="line"></div><div class="line">  <span class="comment">// Change normal values</span></div><div class="line">  Point_set::iterator it = point_set.begin();</div><div class="line">  point_set.normal(*(it++)) = Vector (1., 0., 0.);</div><div class="line">  point_set.normal(*(it++)) = Vector (0., 1., 0.);</div><div class="line">  point_set.normal(*(it++)) = Vector (0., 0., 1.);</div><div class="line"></div><div class="line">  <span class="comment">// Add point + normal</span></div><div class="line">  point_set.insert (Point (1., 2., 3.), Vector (4., 5., 6.));</div><div class="line"></div><div class="line">  print_point_set(point_set);</div><div class="line"></div><div class="line">  <span class="comment">// Add new item</span></div><div class="line">  Point_set::iterator new_item = point_set.insert(Point (7., 8., 9.));</div><div class="line">  point_set.normal(*new_item) = Vector (10., 11., 12.);</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// New item has default values</span></div><div class="line"></div><div class="line">  point_set.remove (point_set.begin() + 2,</div><div class="line">                    point_set.begin() + 4);</div><div class="line"></div><div class="line">  print_point_set(point_set); <span class="comment">// New item has default values</span></div><div class="line"></div><div class="line">  <span class="comment">// Display information</span></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Number of removed points: "</span> &lt;&lt;point_set.number_of_removed_points() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  point_set.collect_garbage();</div><div class="line"></div><div class="line">  <span class="comment">// Display information (garbage should be gone)</span></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"After garbage collection: "</span> &lt;&lt;point_set.number_of_removed_points() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Point_set_3_Properties"></a>
Using Additional Properties</h1>
<p>Every information in the point set is a property. A raw point set comes only with a <code>point</code> property. As we saw in the previous example, the user can easily add a <em>normal</em> property. But this mechanism is generalized to any type of property.</p>
<p>The following example shows how to define a color property and an intensity property, and how to modify the point set according to this.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_property_8cpp-example.html">Point_set_3/point_set_property.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Random.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/namespaceKernel.html">Kernel</a>;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"><span class="keyword">typedef</span> std::array&lt;unsigned char, 3&gt; Color;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"><span class="keyword">typedef</span> Point_set::Property_map&lt;Color&gt; Color_map;</div><div class="line"><span class="keyword">typedef</span> Point_set::Property_map&lt;FT&gt; FT_map;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> print_point_set (<span class="keyword">const</span> Point_set&amp; point_set)</div><div class="line">{</div><div class="line">  Color_map color;</div><div class="line">  boost::tie (color, boost::tuples::ignore) = point_set.property_map&lt;Color&gt;(<span class="stringliteral">"color"</span>);</div><div class="line">  FT_map intensity;</div><div class="line">  boost::tie (intensity, boost::tuples::ignore) =  point_set.property_map&lt;FT&gt;(<span class="stringliteral">"intensity"</span>);</div><div class="line"></div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Content of point set:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (Point_set::const_iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"* Point "</span> &lt;&lt; point_set.point(*it) <span class="comment">// or point_set[it]</span></div><div class="line">              &lt;&lt; <span class="stringliteral">" with color ["</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(color[*it][0])</div><div class="line">              &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; static_cast&lt;int&gt;(color[*it][1])</div><div class="line">              &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(color[*it][2])</div><div class="line">              &lt;&lt; <span class="stringliteral">"] and intensity "</span> &lt;&lt; intensity[*it]</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  Color black = {{ 0, 0, 0 }};</div><div class="line">  <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div><div class="line">  Color_map color;</div><div class="line"></div><div class="line">  boost::tie (color, success) = point_set.add_property_map&lt;Color&gt; (<span class="stringliteral">"color"</span>, black);</div><div class="line">  assert (success);</div><div class="line"></div><div class="line">  FT_map intensity;</div><div class="line">  boost::tie (intensity, success) = point_set.add_property_map&lt;FT&gt; (<span class="stringliteral">"intensity"</span>, 0.);</div><div class="line">  assert (success);</div><div class="line"></div><div class="line">  point_set.reserve (10); <span class="comment">// For memory optimization</span></div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; 10; ++ i)</div><div class="line">  {</div><div class="line">    Point_set::iterator it = point_set.insert (Point (<span class="keywordtype">double</span>(i), <span class="keywordtype">double</span>(i), <span class="keywordtype">double</span>(i)));</div><div class="line">    Color c = {{ <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(CGAL::get_default_random().get_int(0, 255)),</div><div class="line">                 static_cast&lt;unsigned char&gt;(CGAL::get_default_random().get_int(0, 255)),</div><div class="line">                 static_cast&lt;unsigned char&gt;(CGAL::get_default_random().get_int(0, 255)) }};</div><div class="line">    color[*it] = c;</div><div class="line">    intensity[*it] = rand() / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(RAND_MAX);</div><div class="line">  }</div><div class="line"></div><div class="line">  print_point_set (point_set);</div><div class="line"></div><div class="line">  <span class="comment">// Remove points with intensity less than 0.5</span></div><div class="line">  Point_set::iterator it = point_set.begin();</div><div class="line">  <span class="keywordflow">while</span> (it != point_set.end())</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (intensity[*it] &lt; 0.5)</div><div class="line">      point_set.remove(it);</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">      ++ it;</div><div class="line">  }</div><div class="line"></div><div class="line">  print_point_set (point_set); <span class="comment">// point set is filtered</span></div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="Point_set_3_Algorithms"></a>
Applying CGAL Algorithms</h1>
<p>Most CGAL algorithms let the user free to choose an input data structure: the points and attributes are then accessed through ranges and property maps. The <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> class is a range that provides property maps: applying CGAL algorithms is straightforward.</p>
<p>As the <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Ref.html">Point Set Processing</a> algorithms use <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/BGL.tag:../BGL/" href="../BGL/index.html#BGLNamedParameters">Named Parameters</a> to handle property maps, a method <code>CGAL::Point_set_3::parameters()</code> is provided: it returns a named parameter object with the right point and normal maps to read and write in the point set object.</p>
<p>In addition, all input/output functions of the package <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/index.html#Chapter_Point_Set_Processing">Point Set Processing</a> are overloaded so that the user only has to call them with a <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> object as a parameter (see <a class="el" href="index.html#Point_set_3_IO">Input/Output</a>).</p>
<h2><a class="anchor" id="Point_set_3_PSP"></a>
Point Set Processing</h2>
<p>The following example shows how to apply some algorithms from the CGAL library using a point set object:</p>
<ul>
<li>generating a point set around a sphere</li>
<li>estimating the normals with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga078e25209373cab0e1f3524202489771">CGAL::jet_estimate_normals()</a></code></li>
<li>simplifying the point set with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga7757ef9b3900e42fde26f5a0ac56e20f">CGAL::grid_simplify_point_set()</a></code></li>
<li>detecting the sphere shape with <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Efficient__RANSAC.html">CGAL::Shape_detection::Efficient_RANSAC</a></code></li>
</ul>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_algo_8cpp-example.html">Point_set_3/point_set_algo.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/jet_estimate_normals.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/grid_simplify_point_set.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/point_generators_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/Efficient__RANSAC_8h.html">CGAL/Shape_detection/Efficient_RANSAC.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> CGAL::Random_points_on_sphere_3&lt;Point&gt; Point_generator;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/structCGAL_1_1Shape__detection_1_1Efficient__RANSAC__traits.html">CGAL::Shape_detection::Efficient_RANSAC_traits</a></div><div class="line">&lt;Kernel, Point_set, Point_set::Point_map, Point_set::Vector_map&gt; Traits;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Efficient__RANSAC.html">CGAL::Shape_detection::Efficient_RANSAC&lt;Traits&gt;</a>          Efficient_ransac;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Shape_detection.tag:../Shape_detection/" href="../Shape_detection/classCGAL_1_1Shape__detection_1_1Sphere.html">CGAL::Shape_detection::Sphere&lt;Traits&gt;</a>                    Sphere;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div><div class="line">{</div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="comment">// Generate points on a unit sphere</span></div><div class="line">  Point_generator generator(1.);</div><div class="line">  std::size_t nb_pts = 10000;</div><div class="line">  point_set.reserve (nb_pts);</div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; nb_pts; ++ i)</div><div class="line">    point_set.insert (*(generator ++));</div><div class="line"></div><div class="line">  <span class="comment">// Add normal property and estimate normal values</span></div><div class="line">  point_set.add_normal_map();</div><div class="line">  CGAL::jet_estimate_normals&lt;CGAL::Sequential_tag&gt;</div><div class="line">    (point_set,</div><div class="line">     12, <span class="comment">// Number of neighbors</span></div><div class="line">     point_set.parameters(). <span class="comment">// Named parameters provided by Point_set_3</span></div><div class="line">     degree_fitting(2));     <span class="comment">// additional named parameter specific to jet_estimate_normals</span></div><div class="line"></div><div class="line">  <span class="comment">// Simplify point set</span></div><div class="line">  <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3Algorithms.html#ga7757ef9b3900e42fde26f5a0ac56e20f">CGAL::grid_simplify_point_set</a></div><div class="line">    (point_set,</div><div class="line">     0.1); <span class="comment">// Size of grid cell</span></div><div class="line">  <span class="comment">// point_set.parameters() can be omitted if no additional named parameter is needed</span></div><div class="line"></div><div class="line">  std::vector&lt;std::string&gt; properties = point_set.properties();</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Properties:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; properties.size(); ++ i)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; properties[i] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Detect sphere with RANSAC</span></div><div class="line">  Efficient_ransac ransac;</div><div class="line">  ransac.set_input(point_set,</div><div class="line">                   point_set.point_map(), <span class="comment">// Call built-in property map</span></div><div class="line">                   point_set.normal_map()); <span class="comment">// Call built-in property map</span></div><div class="line">  ransac.add_shape_factory&lt;Sphere&gt;();</div><div class="line">  Efficient_ransac::Parameters parameters;</div><div class="line">  parameters.probability = 0.05;</div><div class="line">  parameters.min_points = std::size_t(point_set.size() / 3);</div><div class="line">  parameters.epsilon = 0.01;</div><div class="line">  parameters.cluster_epsilon = 0.5;</div><div class="line">  parameters.normal_threshold = 0.9;</div><div class="line">  ransac.detect(parameters);</div><div class="line"></div><div class="line">  <span class="keywordflow">for</span>(boost::shared_ptr&lt;Efficient_ransac::Shape&gt; shape : ransac.shapes())</div><div class="line">    <span class="keywordflow">if</span> (Sphere* sphere = dynamic_cast&lt;Sphere*&gt;(shape.get()))</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">"Detected sphere of center "</span> &lt;&lt; sphere-&gt;center() <span class="comment">// Center should be approx 0, 0, 0</span></div><div class="line">                &lt;&lt; <span class="stringliteral">" and of radius "</span> &lt;&lt; sphere-&gt;radius() &lt;&lt; std::endl; <span class="comment">// Radius should be approx 1</span></div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_IO"></a>
Input/Output</h2>
<p>The following example shows how to read a point set in the XYZ format, normalize and invert the normal vectors, and write the result in the OFF format.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_read_xyz_8cpp-example.html">Point_set_3/point_set_read_xyz.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string fname = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/oni.pwn"</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Reading input</span></div><div class="line">  Point_set point_set;</div><div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="group__PkgPointSet3IOXYZ.html#gaa21dccecfcfb73b70fd47607dfe6cbc0">CGAL::IO::read_XYZ</a>(fname, point_set))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (point_set.has_normal_map())</div><div class="line">  {</div><div class="line">    <span class="comment">// Normalization + inversion of normal vectors</span></div><div class="line">    <span class="keywordflow">for</span> (Point_set::iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">    {</div><div class="line">      Vector n = point_set.normal(*it);</div><div class="line">      n = - n / <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Algebraic_foundations.tag:../Algebraic_foundations/" href="../Algebraic_foundations/group__PkgAlgebraicFoundationsRef.html#gab922269072ee9ee99ba8c541418b2e11">std::sqrt</a> (n * n);</div><div class="line">      point_set.normal(*it) = n;</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Writing result in OFF format</span></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOOff.html#gaf3b2a435f815f37f914fe9effbf6de73">CGAL::IO::write_OFF</a>(<span class="stringliteral">"normalized_normals.off"</span>, point_set, CGAL::parameters::stream_precision(17)))</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><p>The PLY format is the usual choice when storing an arbitrary number of additional properties of points is needed. CGAL provides a function <a class="el" href="group__PkgPointSet3IOPLY.html"><code>read_PLY()</code> </a> that allows the user to recover any PLY property wanted, provided the adapted PLY interpreter is implemented.</p>
<p>A <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code> object can be filled with all readable properties of a PLY input. Each PLY property is read and stored into as a property with similar name and type.</p>
<p>For example, if the following line is found in the PLY header:</p>
<blockquote class="doxtable">
<p>property uchar red </p>
</blockquote>
<p>Then a property named <code>red</code> and with type <code>boost::uint8_t</code> (<code>boost</code> types are used because of their fixed memory size) will be instantiated in the point set and filled with the corresponding values.</p>
<p>Points and normals are recovered as properties with specific class types (namely the template types <code>Point</code> and <code>Vector</code>). Other non-1D properties are stored with simple number types. For example, if a color is given with integer red, green and blue values, 3 integer properties <code>red</code>, <code>green</code> and <code>blue</code> will be created. A user-defined interpreter must be implemented if such properties should be stored all together (a unique property <code>color</code> of type <code>std::array</code> for example).</p>
<p>The following example shows how to use this interpreter and how to access a specific property afterwards:</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_read_ply_8cpp-example.html">Point_set_3/point_set_read_ply.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  std::ifstream f(argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/example.ply"</span>),</div><div class="line">                  std::ios_base::binary); <span class="comment">// Mandatory on Windows if input is binary PLY</span></div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#gaf5c12b5bab6f88a9d22d425b1ab2586a">CGAL::IO::read_PLY</a>(f, point_set)) <span class="comment">// same as `f &gt;&gt; point_set`</span></div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Shows which properties are defined</span></div><div class="line">  std::vector&lt;std::string&gt; properties = point_set.properties();</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">"Properties:"</span> &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">for</span>(std::size_t i = 0; i &lt; properties.size(); ++ i)</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; properties[i] &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Recover "label" property of type int</span></div><div class="line">  Point_set::Property_map&lt;boost::int32_t&gt; label_prop;</div><div class="line">  <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div><div class="line">  boost::tie(label_prop, found)  = point_set.property_map&lt;boost::int32_t&gt; (<span class="stringliteral">"label"</span>);</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(found)</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Point set has an integer \"label\" property with values:"</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (Point_set::iterator it = point_set.begin(); it != point_set.end(); ++ it)</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">" * "</span> &lt;&lt; label_prop[*it] &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(argc &gt; 2 &amp;&amp; strcmp (argv[2], <span class="stringliteral">"-b"</span>) == 0) <span class="comment">// Optional binary output</span></div><div class="line">  {</div><div class="line">    <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#ga615f4420ce82b5ceb1b584b506d714ad">CGAL::IO::write_PLY</a>(<span class="stringliteral">"out.ply"</span>, point_set, CGAL::parameters::stream_precision(17));</div><div class="line">  }</div><div class="line">  <span class="keywordflow">else</span> <span class="comment">// ASCII output</span></div><div class="line">  {</div><div class="line">    <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IOPly.html#ga615f4420ce82b5ceb1b584b506d714ad">CGAL::IO::write_PLY</a>(<span class="stringliteral">"out.ply"</span>, point_set, CGAL::parameters::stream_precision(17)</div><div class="line">                                                           .use_binary_mode(<span class="keyword">false</span>));</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_Avdanced"></a>
Advanced Usage</h2>
<p>Using functions of CGAL to read files requires a slightly different behavior because internally the properties of a point are defined <em>before</em> this point is inserted into the point set (which is not possible with <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code>). Although using the provided overloads presented in the previous subsection should cover most usages, we document the specific back inserters and property maps that are used internally:</p>
<ul>
<li><code>CGAL::Point_set_3::index_back_inserter()</code> is used as an output iterator that creates new points.</li>
<li><code>CGAL::Point_set_3::point_push_map()</code> is a property map for setting the coordinates of a point. It will first insert the point create in the structure if it has not been created first (by <code>index_back_inserter()</code> for example).</li>
<li><code>CGAL::Point_set_3::normal_push_map()</code> works similarly but for normal vectors.</li>
</ul>
<p>Such <em>push property maps</em> are also available for other user-defined properties (see <code>CGAL::Point_set_3::push_property_map()</code>).</p>
<p>The following example shows how to read OFF point without using the overload provided for <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a></code>:</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2point_set_advanced_8cpp-example.html">Point_set_3/point_set_advanced.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/IO/read_points.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string filename = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"meshes/camel.off"</span>);</div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line">  point_set.add_normal_map();</div><div class="line"></div><div class="line">  <span class="comment">// Reading input in OFF format</span></div><div class="line">  <span class="keywordflow">if</span>(!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Point_set_processing_3.tag:../Point_set_processing_3/" href="../Point_set_processing_3/group__PkgPointSetProcessing3IO.html#ga8fac388459c5cf96bf11ce3b4e0459c1">CGAL::IO::read_points</a>(filename, point_set.index_back_inserter(),</div><div class="line">                        CGAL::parameters::point_map(point_set.point_push_map())</div><div class="line">                                         .normal_map(point_set.normal_push_map())))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="Point_set_3_Draw"></a>
Draw a Point Set</h2>
<p>A 3D point set can be visualized by calling the <a class="el" href="group__PkgDrawPointSet3D.html">CGAL::draw&lt;PS&gt;() </a> function as shown in the following example. This function opens a new window showing the given point set. A call to this function is blocking, that is the program continues as soon as the user closes the window.</p>
<p><br />
<b>File</b> <a class="el" href="Point_set_3_2draw_point_set_3_8cpp-example.html">Point_set_3/draw_point_set_3.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Point_set_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/draw_point_set_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> Kernel;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">Kernel::FT</a> FT;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Point__3.html">Kernel::Point_3</a> Point;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classKernel_1_1Vector__3.html">Kernel::Vector_3</a> Vector;</div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3&lt;Point&gt;</a> Point_set;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> std::string filename = argc &gt; 1 ? argv[1] : <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/namespaceCGAL.html#acdae9a147ad2a3998cc21f88bc292dac">CGAL::data_file_path</a>(<span class="stringliteral">"points_3/oni.pwn"</span>);</div><div class="line"></div><div class="line">  Point_set point_set;</div><div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="group__PkgPointSet3IO.html#gade7dbb6c22e93441b0868c214e2858e6">CGAL::IO::read_point_set</a>(filename, point_set))</div><div class="line">  {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Can't read input file "</span> &lt;&lt; filename &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <a class="code" href="group__PkgDrawPointSet3D.html#ga3c245d15e8f7a2db7252fa450299e1bb">CGAL::draw</a>(point_set);</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><p>This function requires <code>CGAL_Qt5</code>, and is only available if the macro <code>CGAL_USE_BASIC_VIEWER</code> is defined. Linking with the cmake target <code>CGAL::CGAL_Basic_viewer</code> will link with <code>CGAL_Qt5</code> and add the definition <code>CGAL_USE_BASIC_VIEWER</code>.</p>
<p><a class="anchor" id="fig__fig_draw_point_set"></a></p><div class="image">
<img src="draw_point_set.png" alt="draw_point_set.png" />
</div>
   <div class="cgal_figure_caption">  <a class="el" href="index.html#fig__fig_draw_point_set">Figure 78.1</a> Result of the run of the draw_point_set_3 program. A window shows the 3D points and allows to navigate through the 3D scene.  </div> <br /> 
<h1><a class="anchor" id="Point_set_3_History"></a>
History</h1>
<p>This package has been created to fill the need for a practical data structure that handles points with a user-defined set of properties. A property mechanism was already implemented in the <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/index.html#Chapter_3D_Surface_mesh">Surface Mesh</a> package: all the classes dedicated to the management of properties were extracted so that they can be used in this package. <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Surface_mesh.tag:../Surface_mesh/" href="../Surface_mesh/classCGAL_1_1Surface__mesh.html">CGAL::Surface_mesh</a>&lt;Point&gt;</code> and <code><a class="el" href="classCGAL_1_1Point__set__3.html">CGAL::Point_set_3</a>&lt;Point,Vector&gt;</code> now follow a similar API for property management. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- The footer div is not part of the default but we require it to
move the footer to the bottom of the page. -->
<div id="footer">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 27 2022 08:18:44 for CGAL 5.6 - 3D Point Set by
    <a href="https://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen" /></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>
</html>

</html>
