<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="canonical" href="https://doc.cgal.org/latest/Tetrahedral_remeshing/index.html"/>

<link rel="icon" type="image/png" href="../Manual/g-196x196-doc.png" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<meta name="generator" content="Doxygen 1.8.13" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CGAL 5.4 - Tetrahedral Remeshing: User Manual</title>
<!-- <link href="../Manual/tabs.css" rel="stylesheet" type="text/css"/> -->
<script type="text/javascript" src="../Manual/jquery.js"></script>
<script type="text/javascript" src="../Manual/dynsections.js"></script>
<!-- Manually include treeview and search to avoid bloat and to fix
     paths to the directory Manual . -->
<!-- $.treeview -->
<!-- $.search -->
<link href="navtree.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/searchdata.js"></script>
<script type="text/javascript" src="../Manual/search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../Manual/search/search.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Manual/search/search.js"></script>
<!-- Manually done below. -->
<link href="../Manual/stylesheet.css" rel="stylesheet" type="text/css" />
<!-- This should probably be an extrastylesheet instead of hardcoded. -->
<link href="../Manual/cgal_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
//&amp;lt;![CDATA[
MathJax.Hub.Config(
{
  TeX: {
      Macros: {
          qprel: [ "{\\gtreqless}", 0],
          qpx: [ "{\\mathbf{x}}", 0],
          qpl: [ "{\\mathbf{l}}", 0],
          qpu: [ "{\\mathbf{u}}", 0],
          qpc: [ "{\\mathbf{c}}", 0],
          qpb: [ "{\\mathbf{b}}", 0],
          qpy: [ "{\\mathbf{y}}", 0],
          qpw: [ "{\\mathbf{w}}", 0],
          qplambda: [ "{\\mathbf{\\lambda}}", 0],
          ssWpoint: [ "{\\bf #1}", 1],
          ssWeight: [ "{w_{#1}}", 1],
          dabs: [ "{\\parallel\\! #1 \\!\\parallel}", 1],
          E: [ "{\\mathrm{E}}", 0],
          A: [ "{\\mathrm{A}}", 0],
          R: [ "{\\mathrm{R}}", 0],
          N: [ "{\\mathrm{N}}", 0],
          Q: [ "{\\mathrm{Q}}", 0],
          Z: [ "{\\mathrm{Z}}", 0],
          ccSum: [ "{\\sum_{#1}^{#2}{#3}}", 3],
          ccProd: [ "{\\prod_{#1}^{#2}{#3}}", 3],
          pyr: [ "{\\operatorname{Pyr}}", 0],
          aff: [ "{\\operatorname{aff}}", 0],
          Ac: [ "{\\cal A}", 0],
          Sc: [ "{\\cal S}", 0],
      }
  }
}
);
//]]&amp;gt;
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<script src="../Manual/hacks.js" type="text/javascript"></script>
<script src="modules.js" type="text/javascript"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="back-nav">
  <ul>
    <li><a href="https://www.cgal.org/">cgal.org</a></li>
    <li><a href="../Manual/index.html">Top</a></li>
    <li><a href="../Manual/general_intro.html">Getting Started</a></li>
    <li><a href="../Manual/tutorials.html">Tutorials</a></li>
    <li><a href="../Manual/packages.html">Package Overview</a></li>
    <li><a href="../Manual/how_to_cite_cgal.html">Acknowledging CGAL</a></li>
  </ul>
  <!-- In a package SEARCHENGINE = false, so we cannot use 
       insertion. That's why we have to do it manually here. Notice
       that we also take pngs from the Manual. -->
  <div id="MSearchBox" class="MSearchBoxInactive">
    <span class="left">
      <img id="MSearchSelect" src="../Manual/search/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="" />
      <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" />
    </span><span class="right">
      <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../Manual/search/close.png" alt="" /></a>
    </span>
  </div>
</div>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CGAL 5.4 - Tetrahedral Remeshing
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Code below is usually inserted by doxygen when SEARCHENGINE =
     true. Notice that the path to the search directory is adjusted to
     the top-level.-->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../Manual/search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults">
</iframe>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync" style="display: none"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">User Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="Chapter_Tetrahedral_Remeshing"></a><a class="anchor" id="userchaptertetrahedralremeshing"></a>  </p><div id="autotoc" class="toc"></div>  <dl class="section author"><dt>Authors</dt><dd>Jane Tournois, Noura Faraj, Jean-Marc Thiery, Tamy Boubekeur</dd></dl>
<div class="image">
<img src="bimba_back.png" alt="bimba_back.png" />
</div>
  <br />

<h1><a class="anchor" id="secTetRemeshing"></a>
Multi-Material Isotropic Tetrahedral Remeshing</h1>
<p>This package implements an algorithm for quality tetrahedral remeshing, introduced by N.Faraj et al in <a class="el" href="citelist.html#CITEREF_faraj2016mvr">[1]</a>. This practical iterative remeshing algorithm is designed to remesh multi-material tetrahedral meshes, by iteratively performing a sequence of elementary operations such as edge splits, edge collapses, edge flips, and vertex relocations following a Laplacian smoothing. The algorithm results in high-quality uniform isotropic meshes, with the desired mesh density, while preserving the input geometric curve and surface features.</p>
<p>Specific remeshing rules have been designed to satisfy the following criteria. First, the algorithm preserves the geometric complex topology, including multi-material surface patches and polyline features. Polyline features can be defined as intersections between more than two subdomains, or listed by the user. Second, it has been made possible to remesh only a selection of cells, instead of remeshing the whole domain, while preserving or remeshing the interface surfaces between the preserved and the remeshed tetrahedra.</p>
<p>All the local atomic operations that are performed by the algorithm preserve the input topology of the geometric complex.</p>
<p>The tetrahedral remeshing algorithm improves the quality of dihedral angles, while targeting the user-defined uniform sizing field and preserving the topology of the feature complex, as highlighted by Figure <a class="el" href="index.html#fig__Remesh_liver">Figure 60.1</a>.</p>
<p>Experimental evidence shows that a higher number of remeshing iterations leads to a mesh with a improved fidelity to the sizing criterion, and higher quality dihedral angles.</p>
<p><a class="anchor" id="fig__Remesh_liver"></a></p><div class="image">
<img src="tetrahedral_remeshing_before_after.png" alt="tetrahedral_remeshing_before_after.png" />
</div>
   <div class="cgal_figure_caption">  <a class="el" href="index.html#fig__Remesh_liver">Figure 60.1</a> Tetrahedral mesh, modified by our uniform tetrahedral remeshing method. (Left) Before remeshing, dihedral angles were in the interval [1.3; 177.8]. (Right) After remeshing and keeping the same density, dihedral angles are in the interval [12,7; 157.7].  </div> <br /> 
<h1><a class="anchor" id="secTetRemeshingAPI"></a>
API</h1>
<p>The tetrahedral remeshing algorithm is implemented as a single free function <code><a class="el" href="group__PkgTetrahedralRemeshingRef.html#gae4686577872290e0335439edafb27a7b" title="remeshes a tetrahedral mesh. ">CGAL::tetrahedral_isotropic_remeshing()</a></code> that takes only two required parameters: the input triangulation, and the desired edge length, which drives the remeshing process.</p>
<p><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/BGL.tag:../BGL/" href="../BGL/index.html#BGLNamedParameters">Named Parameters</a> are used to deal with optional parameters. The page <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/BGL.tag:../BGL/" href="../BGL/group__bgl__namedparameters.html">Named Parameters</a> describes their usage.</p>
<h1><a class="anchor" id="secTetRemeshingExamples"></a>
Examples</h1>
<h2><a class="anchor" id="ssecEx1"></a>
Tetrahedral Remeshing Example</h2>
<p>The following example shows the simplest use of the tetrahedral remeshing function. The only required parameter is a given target edge length that drives the remeshing process towards a high-quality tetrahedral mesh with improved dihedral angles, and a more uniform mesh, with edge lengths getting closer to the input parameter value.</p>
<p><br />
<b>File</b> <a class="el" href="Tetrahedral_remeshing_2tetrahedral_remeshing_example_8cpp-example.html">Tetrahedral_remeshing/tetrahedral_remeshing_example.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Tetrahedral_remeshing/Remeshing_triangulation_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/tetrahedral_remeshing.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include "tetrahedral_remeshing_generate_input.h"</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> K;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Tetrahedral__remeshing_1_1Remeshing__triangulation__3.html">CGAL::Tetrahedral_remeshing::Remeshing_triangulation_3&lt;K&gt;</a> Remeshing_triangulation;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">double</span> target_edge_length = (argc &gt; 1) ? atof(argv[1]) : 0.1;</div><div class="line">  <span class="keyword">const</span> std::size_t nbv = (argc &gt; 2) ? atoi(argv[2]) : 1000;</div><div class="line"></div><div class="line">  Remeshing_triangulation tr;</div><div class="line">  CGAL::Tetrahedral_remeshing::generate_input_one_subdomain(nbv, tr);</div><div class="line"></div><div class="line">  <a class="code" href="group__PkgTetrahedralRemeshingRef.html#gae4686577872290e0335439edafb27a7b">CGAL::tetrahedral_isotropic_remeshing</a>(tr, target_edge_length);</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="ssecEx2"></a>
Tetrahedral Remeshing of A Selection</h2>
<p>Optional BGL named parameters offer more precise control on the remeshing process. In this example, a triangulation with two subdomains (defined by indices stored in cells) is given as input, but only one (defined by the <code>Subdomain_index</code> 2) of its subdomains is remeshed.</p>
<p><br />
<b>File</b> <a class="el" href="Tetrahedral_remeshing_2tetrahedral_remeshing_of_one_subdomain_8cpp-example.html">Tetrahedral_remeshing/tetrahedral_remeshing_of_one_subdomain.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Tetrahedral_remeshing/Remeshing_triangulation_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/tetrahedral_remeshing.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include "tetrahedral_remeshing_generate_input.h"</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> K;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Tetrahedral__remeshing_1_1Remeshing__triangulation__3.html">CGAL::Tetrahedral_remeshing::Remeshing_triangulation_3&lt;K&gt;</a> Remeshing_triangulation;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">struct </span>Cells_of_subdomain</div><div class="line">{</div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">int</span> m_subdomain;</div><div class="line"></div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Cells_of_subdomain(<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; subdomain)</div><div class="line">    : m_subdomain(subdomain)</div><div class="line">  {}</div><div class="line"></div><div class="line">  <span class="keywordtype">bool</span> operator()(Remeshing_triangulation::Cell_handle c)<span class="keyword"> const</span></div><div class="line"><span class="keyword">  </span>{</div><div class="line">    <span class="keywordflow">return</span> m_subdomain == c-&gt;subdomain_index();</div><div class="line">  }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">double</span> target_edge_length = (argc &gt; 1) ? atof(argv[1]) : 0.1;</div><div class="line">  <span class="keyword">const</span> std::size_t nbv = (argc &gt; 2) ? atoi(argv[2]) : 1000;</div><div class="line"></div><div class="line">  Remeshing_triangulation tr;</div><div class="line">  CGAL::Tetrahedral_remeshing::generate_input_two_subdomains(nbv, tr);</div><div class="line"></div><div class="line">  <a class="code" href="group__PkgTetrahedralRemeshingRef.html#gae4686577872290e0335439edafb27a7b">CGAL::tetrahedral_isotropic_remeshing</a>(tr, target_edge_length,</div><div class="line">      CGAL::parameters::cell_selector(Cells_of_subdomain(2)));</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><h2><a class="anchor" id="ssecEx3"></a>
Tetrahedral Remeshing With Polyline Features</h2>
<p>Optional BGL named parameters offer more precise control on the remeshing process. In this example, a triangulation with polyline features that should be preserved - though resampled - during the remeshing process, is given as input. Preserving all surfaces exactly could also be achieved by setting the named parameter <code>remesh_boundaries</code> to <code>false</code>.</p>
<p><br />
<b>File</b> <a class="el" href="Tetrahedral_remeshing_2tetrahedral_remeshing_with_features_8cpp-example.html">Tetrahedral_remeshing/tetrahedral_remeshing_with_features.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Tetrahedral_remeshing/Remeshing_triangulation_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/tetrahedral_remeshing.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/property_map.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;boost/unordered_set.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include "tetrahedral_remeshing_generate_input.h"</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> K;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Tetrahedral__remeshing_1_1Remeshing__triangulation__3.html">CGAL::Tetrahedral_remeshing::Remeshing_triangulation_3&lt;K&gt;</a> Remeshing_triangulation;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> Remeshing_triangulation::Point         Point;</div><div class="line"><span class="keyword">typedef</span> Remeshing_triangulation::Vertex_handle Vertex_handle;</div><div class="line"><span class="keyword">typedef</span> Remeshing_triangulation::Cell_handle   Cell_handle;</div><div class="line"><span class="keyword">typedef</span> Remeshing_triangulation::Edge          Edge;</div><div class="line"></div><div class="line"><span class="keyword">class </span>Constrained_edges_property_map</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="keyword">typedef</span> <span class="keywordtype">bool</span>                               value_type;</div><div class="line">  <span class="keyword">typedef</span> <span class="keywordtype">bool</span>                               reference;</div><div class="line">  <span class="keyword">typedef</span> std::pair&lt;Vertex_handle, Vertex_handle&gt; key_type;</div><div class="line">  <span class="keyword">typedef</span> boost::read_write_property_map_tag category;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">  boost::unordered_set&lt;key_type&gt;* m_set_ptr;</div><div class="line"></div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Constrained_edges_property_map()</div><div class="line">    : m_set_ptr(nullptr)</div><div class="line">  {}</div><div class="line">  Constrained_edges_property_map(boost::unordered_set&lt;key_type&gt;* set_)</div><div class="line">    : m_set_ptr(set_)</div><div class="line">  {}</div><div class="line"></div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="keyword">friend</span> <span class="keywordtype">void</span> put(Constrained_edges_property_map&amp; map,</div><div class="line">                  <span class="keyword">const</span> key_type&amp; k,</div><div class="line">                  <span class="keyword">const</span> <span class="keywordtype">bool</span> b)</div><div class="line">  {</div><div class="line">    CGAL_assertion(map.m_set_ptr != <span class="keyword">nullptr</span>);</div><div class="line">    CGAL_assertion(k.first &lt; k.second);</div><div class="line">    <span class="keywordflow">if</span> (b)  map.m_set_ptr-&gt;insert(k);</div><div class="line">    <span class="keywordflow">else</span>    map.m_set_ptr-&gt;erase(k);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keyword">friend</span> value_type <span class="keyword">get</span>(<span class="keyword">const</span> Constrained_edges_property_map&amp; map,</div><div class="line">                              <span class="keyword">const</span> key_type&amp; k)</div><div class="line">  {</div><div class="line">    CGAL_assertion(map.m_set_ptr != <span class="keyword">nullptr</span>);</div><div class="line">    CGAL_assertion(k.first &lt; k.second);</div><div class="line">    <span class="keywordflow">return</span> (map.m_set_ptr-&gt;count(k) &gt; 0);</div><div class="line">  }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> set_subdomain(Remeshing_triangulation&amp; tr, <span class="keyword">const</span> <span class="keywordtype">int</span> index)</div><div class="line">{</div><div class="line">  <span class="keywordflow">for</span> (Remeshing_triangulation::Finite_cells_iterator cit = tr.finite_cells_begin();</div><div class="line">       cit != tr.finite_cells_end(); ++cit)</div><div class="line">  {</div><div class="line">    cit-&gt;set_subdomain_index(index);</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">double</span> target_edge_length = (argc &gt; 1) ? atof(argv[1]) : 0.02;</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_iter = (argc &gt; 2) ? atoi(argv[2]) : 1;</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">int</span> nbv = (argc &gt; 3) ? atoi(argv[3]) : 500;</div><div class="line"></div><div class="line">  Remeshing_triangulation t3;</div><div class="line">  boost::unordered_set&lt;std::pair&lt;Vertex_handle, Vertex_handle&gt; &gt; constraints;</div><div class="line"></div><div class="line">  CGAL::Tetrahedral_remeshing::generate_input_cube(nbv, t3, constraints);</div><div class="line">  make_constraints_from_cube_edges(t3, constraints);</div><div class="line">  CGAL_assertion(t3.is_valid());</div><div class="line"></div><div class="line">  <a class="code" href="group__PkgTetrahedralRemeshingRef.html#gae4686577872290e0335439edafb27a7b">CGAL::tetrahedral_isotropic_remeshing</a>(t3, target_edge_length,</div><div class="line">    CGAL::parameters::edge_is_constrained_map(</div><div class="line">      Constrained_edges_property_map(&amp;constraints))</div><div class="line">    .number_of_iterations(nb_iter));</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><h2><a class="anchor" id="ssecEx4"></a>
Tetrahedral Remeshing After Mesh Generation</h2>
<p>The tetrahedral remeshing algorithm is designed as a post-processing for mesh generation algorithms. The API allows to generate a tetrahedral mesh with the CGAL <a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/packages.html#PkgMesh3">3D Mesh Generation</a> package, and further improve it with the tetrahedral remeshing algorithm. This example shows how to use tetrahedral mesh generation and remeshing in sequence, from a polyhedral domain with features.</p>
<p><br />
<b>File</b> <a class="el" href="Tetrahedral_remeshing_2mesh_and_remesh_polyhedral_domain_with_features_8cpp-example.html">Tetrahedral_remeshing/mesh_and_remesh_polyhedral_domain_with_features.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Mesh_triangulation_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Mesh_complex_3_in_triangulation_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Mesh_criteria_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Polyhedral_mesh_domain_with_features_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/make_mesh_3.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/tetrahedral_remeshing.h&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Domain</span></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> K;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">CGAL::Mesh_polyhedron_3&lt;K&gt;::type</a> Polyhedron;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Mesh_3.tag:../Mesh_3/" href="../Mesh_3/classCGAL_1_1Polyhedral__mesh__domain__with__features__3.html">CGAL::Polyhedral_mesh_domain_with_features_3&lt;K&gt;</a> Mesh_domain;</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef CGAL_CONCURRENT_MESH_3</span></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/STL_Extension.tag:../STL_Extension/" href="../STL_Extension/structCGAL_1_1Parallel__tag.html">CGAL::Parallel_tag</a> Concurrency_tag;</div><div class="line"><span class="preprocessor">#else</span></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/STL_Extension.tag:../STL_Extension/" href="../STL_Extension/structCGAL_1_1Sequential__tag.html">CGAL::Sequential_tag</a> Concurrency_tag;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Triangulation for Meshing</span></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Manual.tag:../Manual/" href="../Manual/classunspecified__type.html">CGAL::Mesh_triangulation_3&lt;Mesh_domain, CGAL::Default, Concurrency_tag&gt;::type</a> Tr;</div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/MDS_3.tag:../MDS_3/" href="../MDS_3/classCGAL_1_1Mesh__complex__3__in__triangulation__3.html">CGAL::Mesh_complex_3_in_triangulation_3</a>&lt;</div><div class="line">  Tr, Mesh_domain::Corner_index, Mesh_domain::Curve_index&gt; C3t3;</div><div class="line"></div><div class="line"><span class="comment">// Criteria</span></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Mesh_3.tag:../Mesh_3/" href="../Mesh_3/classCGAL_1_1Mesh__criteria__3.html">CGAL::Mesh_criteria_3&lt;Tr&gt;</a> Mesh_criteria;</div><div class="line"></div><div class="line"><span class="comment">// Triangulation for Remeshing</span></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Triangulation_3.tag:../Triangulation_3/" href="../Triangulation_3/classCGAL_1_1Triangulation__3.html">CGAL::Triangulation_3</a>&lt;<span class="keyword">typename</span> Tr::Geom_traits,</div><div class="line">  <span class="keyword">typename</span> Tr::Triangulation_data_structure&gt; Triangulation_3;</div><div class="line"></div><div class="line"><span class="comment">// To avoid verbose function and named parameters call</span></div><div class="line"><span class="keyword">using namespace </span><a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Mesh_3.tag:../Mesh_3/" href="../Mesh_3/namespaceCGAL_1_1parameters.html">CGAL::parameters</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span>* fname = (argc &gt; 1) ? argv[1] : <span class="stringliteral">"data/fandisk.off"</span>;</div><div class="line">  std::ifstream input(fname);</div><div class="line">  Polyhedron polyhedron;</div><div class="line">  input &gt;&gt; polyhedron;</div><div class="line">  <span class="keywordflow">if</span> (input.fail()) {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Error: Cannot read file "</span> &lt;&lt; fname &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (!<a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/BGL.tag:../BGL/" href="../BGL/group__PkgBGLHelperFct.html#ga11883d231eec1b58f37efe4acedd9588">CGAL::is_triangle_mesh</a>(polyhedron)) {</div><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">"Input geometry is not triangulated."</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Create domain</span></div><div class="line">  Mesh_domain domain(polyhedron);</div><div class="line"></div><div class="line">  <span class="comment">// Get sharp features</span></div><div class="line">  domain.detect_features();</div><div class="line"></div><div class="line">  <span class="comment">// Mesh criteria</span></div><div class="line">  Mesh_criteria criteria(edge_size = 0.025,</div><div class="line">    facet_angle = 25, facet_size = 0.05, facet_distance = 0.005,</div><div class="line">    cell_radius_edge_ratio = 3, cell_size = 0.05);</div><div class="line"></div><div class="line">  <span class="comment">// Mesh generation</span></div><div class="line">  C3t3 c3t3 = CGAL::make_mesh_3&lt;C3t3&gt;(domain, criteria);</div><div class="line"></div><div class="line">  Triangulation_3 tr = <a class="code" href="group__PkgTetrahedralRemeshingRef.html#ga0197df917d3de1ddd75b3a5f35e54d85">CGAL::convert_to_triangulation_3</a>(std::move(c3t3));</div><div class="line">  <span class="comment">//note we use the move semantic, with std::move(c3t3),</span></div><div class="line">  <span class="comment">//  to avoid a copy of the triangulation by the function</span></div><div class="line">  <span class="comment">//  `CGAL::convert_to_triangulation_3()`</span></div><div class="line">  <span class="comment">//  After the call to this function, c3t3 is an empty and valid C3t3.</span></div><div class="line">  <span class="comment">//It is possible to use :  CGAL::convert_to_triangulation_3(c3t3),</span></div><div class="line">  <span class="comment">//  Then the triangulation is copied and duplicated, and c3t3 remains as is.</span></div><div class="line"></div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">double</span> target_edge_length = 0.1;<span class="comment">//coarsen the mesh</span></div><div class="line">  <a class="code" href="group__PkgTetrahedralRemeshingRef.html#gae4686577872290e0335439edafb27a7b">CGAL::tetrahedral_isotropic_remeshing</a>(tr, target_edge_length,</div><div class="line">    CGAL::parameters::number_of_iterations(3));</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="ssecEx5"></a>
Tetrahedral Remeshing from Any Tetrahedral Mesh</h2>
<p>The following example shows how to read a mesh from a triangulation stored in a Medit file, perform tetrahedral remeshing, and save the output triangulation. The input triangulation should follow the validity requirements of a <code><a class="elRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Triangulation_3.tag:../Triangulation_3/" href="../Triangulation_3/classCGAL_1_1Triangulation__3.html">CGAL::Triangulation_3</a></code> (valid connectivity, positive orientation of the cells, and coverage of the convex hull of the vertices).</p>
<p><br />
<b>File</b> <a class="el" href="Tetrahedral_remeshing_2tetrahedral_remeshing_from_mesh_8cpp-example.html">Tetrahedral_remeshing/tetrahedral_remeshing_from_mesh.cpp</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;CGAL/Exact_predicates_inexact_constructions_kernel.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/Tetrahedral_remeshing/Remeshing_triangulation_3.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;CGAL/tetrahedral_remeshing.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;CGAL/IO/File_medit.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/Kernel_23.tag:../Kernel_23/" href="../Kernel_23/classCGAL_1_1Exact__predicates__inexact__constructions__kernel.html">CGAL::Exact_predicates_inexact_constructions_kernel</a> K;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classCGAL_1_1Tetrahedral__remeshing_1_1Remeshing__triangulation__3.html">CGAL::Tetrahedral_remeshing::Remeshing_triangulation_3&lt;K&gt;</a> Remeshing_triangulation;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span>* filename = (argc &gt; 1) ? argv[1] : <span class="stringliteral">"data/sphere.mesh"</span>;</div><div class="line">  <span class="keyword">const</span> <span class="keywordtype">double</span> target_edge_length = (argc &gt; 2) ? atof(argv[2]) : 0.1;</div><div class="line"></div><div class="line">  Remeshing_triangulation tr;</div><div class="line"></div><div class="line">  std::ifstream is(filename, std::ios_base::in);</div><div class="line">  <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/MDS_3.tag:../MDS_3/" href="../MDS_3/group__PkgMDS3IOFunctions.html#gae568272186821b0b236257819dbf55db">CGAL::IO::read_MEDIT</a>(is, tr);</div><div class="line"></div><div class="line">  <a class="code" href="group__PkgTetrahedralRemeshingRef.html#gae4686577872290e0335439edafb27a7b">CGAL::tetrahedral_isotropic_remeshing</a>(tr, target_edge_length);</div><div class="line"></div><div class="line">  std::ofstream os(<span class="stringliteral">"after_remeshing.mesh"</span>);</div><div class="line">  <a class="codeRef" doxygen="/home/runner/work/cgal/cgal/build_doc/doc_tags/MDS_3.tag:../MDS_3/" href="../MDS_3/group__PkgMDS3IOFunctions.html#gaa1f5784e19af4e399734724523d77163">CGAL::IO::write_MEDIT</a>(os, tr);</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="secTetRemeshingHistory"></a>
Implementation History</h1>
<p>This package implements the uniform version of the "Multi-Material Adaptive Volume Remesher" algorithm for quality tetrahedral remeshing, described by Noura Faraj et al. in <a class="el" href="citelist.html#CITEREF_faraj2016mvr">[1]</a>.</p>
<p>A first version of the code was written by Noura Faraj, Jean-Marc Thiery, and Tamy Boubekeur. Jane Tournois worked on the finalization of the code, the API, and documentation.</p>
<p>It was initially published in CGAL-5.1. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!-- The footer div is not part of the default but we require it to
move the footer to the bottom of the page. -->
<div id="footer">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Aug 5 2021 14:40:05 for CGAL 5.4 - Tetrahedral Remeshing by
    <a href="https://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen" /></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>


</html>
